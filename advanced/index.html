<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.0">
<title>Anypoint™ Advanced Connector Certification Process</title>
<style>

@import "http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:"Verdana", sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#97999b;text-decoration:blink;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Ubuntu",sans-serif;font-weight:300;font-style:normal;color:#00A3E0;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Ubuntu",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc>ul>li>a { font-weight: bold; color:#00A3E0; }
#toc a:active{text-decoration:underline}
#toctitle{color:#00A3E0;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:white;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:30em;padding-right:5em}
#toc.toc2{width:20em;margin-left: 5em;}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#006892;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Ubuntu",sans-serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:none;}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:0.9rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Anypoint™ Advanced Connector Certification Process</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Certification Process</a>
<ul class="sectlevel2">
<li><a href="#on-board">1.1. Stage 1: On-Board</a></li>
<li><a href="#_development">1.2. Stage 2: Development</a></li>
<li><a href="#_certification">1.3. Stage 3: Certification</a></li>
<li><a href="#publishing">1.4. Stage 4: Publishing</a></li>
<li><a href="#re-certification">1.5. Release Re-Certification</a></li>
</ul>
</li>
<li><a href="#_coding_standars_and_best_practices">2. Coding Standards and Best Practices</a>
<ul class="sectlevel2">
<li><a href="#_anypoint_connector_devkit_version">2.1. Anypoint™ Connector DevKit Version</a></li>
<li><a href="#_connector_category">2.2. Connector Category</a></li>
<li><a href="#_code_conventions">2.3. Code Conventions</a></li>
<li><a href="#_maven_conventions_and_setup">2.4. Maven Conventions and Setup</a></li>
<li><a href="#_devkit_standars_best_practices">2.5. DevKit Standars and Best Practices</a></li>
<li><a href="#_connector_demo_example">2.6. Connector Demo Example</a></li>
</ul>
</li>
<li><a href="#_static_code_analysis_and_coverage">3. Static Code Analysis and Coverage</a>
<ul class="sectlevel2">
<li><a href="#_installing_sonarqube">3.1. Installing SonarQube</a></li>
<li><a href="#_performing_your_first_analysis">3.2. Performing Your First Analysis</a></li>
<li><a href="#_sonarqube_eclipse_plugin_setup">3.3. SonarQube Eclipse Plugin Setup</a></li>
<li><a href="#_quality_profile_rules">3.4. Quality Profile Rules</a></li>
<li><a href="#_code_coverage">3.5. Code Coverage</a></li>
<li><a href="#_code_quality_review_guideline">3.6. Code Quality Review Guideline</a></li>
</ul>
</li>
<li><a href="#_functional_tests_automation">4. Functional Tests Automation</a>
<ul class="sectlevel2">
<li><a href="#_intro">4.1. Introduction</a></li>
<li><a href="#_framework_and_test_suite_components">4.2. Connector Testing Framework Components</a></li>
<li><a href="#_test_methods">4.3. Topics to Test</a></li>
</ul>
</li>
<li><a href="#_anypoint_studio_iteroperability_testing">5. Anypoint™ Studio Interoperability Testing</a>
<ul class="sectlevel2">
<li><a href="#_purpose">5.1. Purpose</a></li>
<li><a href="#oauth-authentication">5.2. OAuth Authentication</a></li>
<li><a href="#_anypoint_studio_interoperability_testing">5.3. Anypoint Studio Interoperability Testing</a></li>
<li><a href="#_anypoint_studio_installation">5.4. Anypoint Studio Installation</a></li>
<li><a href="#_multiple_extensions">5.5. Multiple Extensions</a></li>
<li><a href="#_global_element_properties">5.6. Global Element Properties</a></li>
<li><a href="#_connectivity">5.7. Connectivity</a></li>
<li><a href="#_metadata">5.8. Metadata</a></li>
<li><a href="#_xml_generation">5.9. XML Generation</a></li>
<li><a href="#_datamapper_compliance_2">5.10. DataMapper Compliance</a></li>
<li><a href="#_datasense_query_editor_dsql">5.11. DataSense Query Editor / DSQL</a></li>
<li><a href="#_auto_paging">5.12. Auto-Paging</a></li>
<li><a href="#_non_query_operations">5.13. Non-Query Operations</a></li>
<li><a href="#_auto_paging_dsql_interoperability">5.14. Auto-Paging DSQL Interoperability</a></li>
</ul>
</li>
<li><a href="#_cloudhub_interoperability">6. CloudHub Interoperability</a></li>
<li><a href="#_documentation">7. Documentation &amp; Release Notes</a>
<ul class="sectlevel2">
<li><a href="#_built_in_documentation">7.1. Built-in Documentation</a></li>
<li><a href="#_connector_apidocs">7.2. Connector Apidocs</a></li>
</ul>
</li>
<li><a href="#_appendixes">8. Appendixes &amp; Templates</a>
<ul class="sectlevel2">
<li><a href="#_connector_project_directory_layout">8.1. Connector Project Directory Layout</a></li>
<li><a href="#_common_public_attribution_license_version_1_0_cpal">8.2. Common Public Attribution License Version 1.0 (CPAL)</a></li>
<li><a href="#_functional_tests_automation_howto">8.3. Functional Tests Automation: HowTo</a></li>
<li><a href="#_anypoint_studio_interoperability_testing_howto">8.4. Anypoint™ Studio Interoperability Testing: HowTo</a></li>
<li><a href="#_anypoint_connectors_manual_test_suite_template">8.5. Anypoint™ Connectors Manual Test Suite Template</a></li>
<li><a href="#certification-checklist">8.6. Certification Checklists</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Certification Process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MuleSoft has expanded the Anypoint™ Connector platform enabling partners, from MuleSoft Partner Program, and third-party development groups, to develop Anypoint™ connectors.</p>
</div>
<div class="paragraph">
<p>Every connector in the MuleSoft Anypoint™ Platform must go through a mandatory <strong>Certification Process</strong> before final release. This certification process has been conceived to assess the overall quality of all available connectors, ensuring that every connector published in the MuleSoft Connectors library strictly follows industry best practices. As a result of this certification process, we are able to define a high quality threshold for every Anypoint™ connector available in the Mulesoft platform.</p>
</div>
<div class="paragraph">
<p>All available connectors, either built by our partners or by our internal development team, go through the same certification process, which is carried out by MuleSoft&#8217;s internal team. Once a connector passes certification, it is branded as a MuleSoft-certified connector and published in the MuleSoft Connectors Library.</p>
</div>
<div class="paragraph">
<p>The scope of this process mainly depends on the composition of the connector, where a more complex connector will require further steps in the certification process. Our certification approach aims at testing every functional block of the connector prior releasing.</p>
</div>
<div class="paragraph">
<p>This document first introduces the entire <strong>Connector Lifecycle Model</strong>, which includes four different stages: On-board, Development, Certification and Publishing.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On-board: Takes into consideration the legal engagement between a third-party development group or partner, and MuleSoft.</p>
</li>
<li>
<p>Development: The development stage, considering strictly testing methodologies.</p>
</li>
<li>
<p>Certification: The certification process per-se, carried out by a MuleSoft.</p>
</li>
<li>
<p>Publishing: Considers the final deployment of the certified connector within MuleSoft Connectors Library.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Within these stages, we only take into consideration the second and third ones: Development and Certification. The first stage is out of the scope of this document, while the last one hardly requires interaction from the developer&#8217;s side and therefore it will be omitted.</p>
</div>
<div class="paragraph">
<p>The connector lifecycle model consists of the following stages:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connector-lifecycle.png" alt="connector lifecycle">
</div>
</div>
<div class="sect2">
<h3 id="on-board">1.1. Stage 1: On-Board</h3>
<div class="paragraph">
<p>This first stage consists of legal matters involving the development of a connector for MuleSoft. This stage includes a learning phase of the default framework for developing connectors for the Anypoint™ Connector DevKit.</p>
</div>
<div class="sect3">
<h4 id="_legal_engagement">1.1.1. Legal Engagement</h4>
<div class="paragraph">
<p>Both sides, MuleSoft and a Service Integrator (<em>SI</em>), state the guidelines and expected product deliverables before starting the development stage.</p>
</div>
</div>
<div class="sect3">
<h4 id="_learning_anypoint_connector_devkit">1.1.2. Learning Anypoint Connector DevKit</h4>
<div class="paragraph">
<p>Anypoint Connector DevKit is the default tool for developing Anypoint connectors. It provides a vast set of features to help you develop and mantain your connector. Features include, but are not limited to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Visual design and implementation using Anypoint Studio with an Eclipse-oriented interface that simplifies and speeds up development.</p>
</li>
<li>
<p>Maven support for development and building.</p>
</li>
<li>
<p>Connector development and packaging tools.</p>
</li>
<li>
<p>Authentication support for multiple types of authentication using OAuth and basic authentication.</p>
</li>
<li>
<p>DataSense support to acquire metadata in design time.</p>
</li>
<li>
<p>Extensive testing capability.</p>
</li>
<li>
<p>Examples, training, and support to ease startup.</p>
</li>
<li>
<p>Batch, query pagination, and DataSense Query Language support.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following are a set of useful links as a starting point:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://training.mulesoft.com/instructor-led-training/connector-development-essentials-private-class-ilt">Connector Development Essentials</a></p>
</li>
<li>
<p><a href="http://www.mulesoft.org/documentation/display/current/Anypoint+Connector+DevKit">Official DevKit Documentation</a></p>
</li>
<li>
<p><a href="http://www.mulesoft.org/documentation/display/current/Tutorial+-+Barn+Connector">DevKit Tutorial</a></p>
</li>
<li>
<p><a href="http://forum.mulesoft.org/mulesoft/products/mulesoft_anypoint_devkit">Community Forum</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_development">1.2. Stage 2: Development</h3>
<div class="paragraph">
<p>The development stage is one of two major phases, mostly occurring in the development team side. Since the MuleSoft team has relatively low control over this stage, MuleSoft requires every developer to follow a strict set of practices, which we call <strong>Mandatory Practices</strong>.</p>
</div>
<div class="sect3">
<h4 id="_design_specification_review">1.2.1. Design Specification Review</h4>
<div class="paragraph">
<p>The <em>design specification review</em> phase, within the development stage, primarily assists developers and designers to clarify the functional behavior of the connector, provides extensive use cases, ranging from normal to border-cases, and includes an overall architecture design. MuleSoft strongly recommended that developers, as well as designers, consider this step mandatory, taking into consideration the
<a href="files/designSpecificationTemplate.html">Design Specification Template</a>.</p>
</div>
<div class="paragraph">
<p>The Design Specification Template is one of the two <em>Exit Criteria Documents</em> from the development stage, needed by the MuleSoft team. The second document is the <a href="files/CertificationChecklist_connector_name-connector_version.xlsx">Certification Checklist Document</a>, which ensures that you accomplish every mandatory practice and complete all deliverables.</p>
</div>
<div class="paragraph">
<p>Due to Interoperability QA Guidelines, this checklist has the associated <a href="files/connector_name-connector_version_ManualInteroperabilityTestSuiteTemplate.xlsx">Manual Interoperability Test Run</a> document.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mandatory_practices">1.2.2. Mandatory Practices</h4>
<div class="paragraph">
<p>The Mandatory Practices assure an overall product quality, ranging from coding standards to documentation. The MuleSoft team requires that you strictly follow every practice and produce the required deliverables, including release notes and a user guide. The following mandatory practices are detailed in following sections of this document.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_coding_standars_and_best_practices">Coding Standards and Best Practices</a></p>
</li>
<li>
<p><a href="#_static_code_analysis_and_coverage">Static Code Analysis and Coverage</a></p>
</li>
<li>
<p><a href="#_functional_tests_automation">Functional Tests Automation</a></p>
</li>
<li>
<p><a href="#_anypoint_studio_iteroperability_testing">Anypoint Studio Interoperability Testing</a></p>
</li>
<li>
<p><a href="#_cloudhub_interoperability_testing">CloudHub Interoperability Testing</a></p>
</li>
<li>
<p><a href="#_documentation">Documentation &amp; Release Notes</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_certification">1.3. Stage 3: Certification</h3>
<div class="paragraph">
<p>The certification stage occurs mostly in the MuleSoft side. This stage includes different high-level objectives, such as:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Automated code scan</p>
</li>
<li>
<p>Manual code review and black box testing</p>
</li>
<li>
<p>Manual and automated tests review</p>
</li>
<li>
<p>Repository structure review</p>
</li>
<li>
<p>Documentation review</p>
</li>
<li>
<p>Runtime-compatibility review</p>
</li>
<li>
<p>Static code analysis</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The certification stage requires different prerequisites, because a wide set of code properties are checked and validated. These properties include GitHub credentials, Maven dependencies, and code versioning, among others.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites">1.3.1. Prerequisites</h4>
<div class="paragraph">
<p>Prerequisites to be satisfied:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Design Specification Template Approved:</strong> The Design Specification template has been approved and all suggested corrections have been taken into consideration by the development team.</p>
</li>
<li>
<p><strong>Source Code Access and Sandbox Credentials:</strong> As part of the certification process, the MuleSoft team internally runs and continues tests execution, and runs a set of code inspections to validate the quality of the connector. The following actions are required:</p>
<div class="ulist">
<ul>
<li>
<p>GitHub account with read access must be granted to the user <em>connectors-cert-ci</em> (connectors-cert-ci at mulesoft dot com).</p>
</li>
<li>
<p>If required, provide the sandbox credentials used for tests execution.</p>
</li>
<li>
<p>Create a release branch containing all the bug fixes produced during the certification process. This follows the naming convention "release/v&lt;version-number&gt;". After the certification process   completes, all changes are merged into the master branch and a tag, with all the changes, needed to be created. MuleSoft strongly recommendeds that you follow GitFlow branching practices.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Maven Dependencies:</strong></p>
<div class="ulist">
<ul>
<li>
<p>The connector must be a final version: No SNAPSHOTS are allowed.</p>
</li>
<li>
<p>SNAPSHOT dependencies are not allowed.</p>
</li>
<li>
<p>External dependencies need to be located in well-known public repositories.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Presentation Demo:</strong> The objective of this demo is to go over the functional aspects of the connector, the overview of the system to be connected, and the underlying integration technologies (REST/SOAP/SDK). The audience of this meeting are Product Managers, Connectors Engineers, Leads, and QA staff.</p>
</li>
<li>
<p><strong>Complete the <a href="#certification-checklist">Certification Checklist</a></strong></p>
</li>
<li>
<p><strong>Connector Documentation:</strong> Access to your connector documentation is required.</p>
</li>
<li>
<p><strong>Versioning:</strong> The Connector must follow the following versioning scheme. Given a version number MAJOR.MINOR.PATCH, only increment a MAJOR version when you make incompatible API changes; increment a MINOR version when you add functionality in a backwards-compatible manner; and increment a PATCH version when you make backwards-compatible bug fixes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_certification_2">1.3.2. Certification</h4>
<div class="paragraph">
<p>After completing all previous steps, MuleSoft starts the certification process, which is an iterative process. MuleSoft reports different recommendations, which need to be completed by the connector development team, otherwise certification fails.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MuleSoft defines a tentative starting date for the certification process, where MuleSoft recommends that your team allocates different time windows, so as to respond to our recommendations. After you resolve and implement all requirements, the certification process ends. However, if there is no active engagement in solving the proposed recommendations within a seven-day period, the whole certification process suspends and a new tentative starting date is defined.</pre>
</div>
</div>
<div class="paragraph">
<p>MuleSoft provides a CloudBees dedicated account (<a href="http://www.cloudbees.com" class="bare">http://www.cloudbees.com</a>) that you can use to monitor test execution and static code analysis reports.</p>
</div>
<div class="paragraph">
<p>The main communication channel between the MuleSoft team and your team is the MuleSoft connector forum, part of the Mulesoft forum community.</p>
</div>
</div>
<div class="sect3">
<h4 id="_results">1.3.3. Results</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Support Training:</strong> Mule support team provides T1 support and helps you isolate the issue and identify if the issue is a Mule issue or a connector issue.</p>
</li>
<li>
<p>*Upload of certified connectors to <a href="https://www.mulesoft.com/exchange">Anypoint Exchange</a>. After your connector passes certification, MuleSoft sends you an estimated date for when your connector will appear in Anypoint Exchange. As part of this process, the following information need to be provided:</p>
<div class="ulist">
<ul>
<li>
<p>High level description of the connector. The <a href="https://www.mulesoft.com/exchange#!/salesforce-integration-connector?types=connector">SalesForce connector</a> can be used as a template example.</p>
</li>
<li>
<p>URL to release notes.</p>
</li>
<li>
<p>URL to functional documentation.</p>
</li>
<li>
<p>URL to Anypoint Connector DevKit generated documentation.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="publishing">1.4. Stage 4: Publishing</h3>
<div class="paragraph">
<p>The final stage in the connector lifecycle model is publishing, which MuleSoft carries out. After the certification process successfully completes, the connector deployes and publishes in the Mulesoft Anypoint Exchange.</p>
</div>
</div>
<div class="sect2">
<h3 id="re-certification">1.5. Release Re-Certification</h3>
<div class="paragraph">
<p>Mule ESB and Anypoint Studio have a release cycle of three month, where MuleSoft assures that previously published connectors are compatible with new releases. Due to class-loading issues and data-mapping problems, already published connectors might not work in new Mule ESB versions. Therefore, prior to Mule ESB and Anypoint Studio releases, MuleSoft runs regression tests to assure full forward compatibility.</p>
</div>
<div class="paragraph">
<p>If regression testing fails, it is up to the connector development team to decide whether the connector supports or not newer versions of Mule ESB and Anypoint Studio.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_coding_standars_and_best_practices">2. Coding Standards and Best Practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Development best practices and coding standars have been learned within the connector developemt community over time, leading to improve the quality of connectors. During the cerfitication process, most of these practices and standars are checked through automated tools, such as SonarQube.</p>
</div>
<div class="sect2">
<h3 id="_anypoint_connector_devkit_version">2.1. Anypoint™ Connector DevKit Version</h3>
<div class="paragraph">
<p>The last version of Anypoint™ Connector Devkit must be used to develop your connector. As of March 2015, the latest stable Devkit version is 3.6.1.</p>
</div>
<div class="paragraph">
<p>DevKit 3.6.x assures that a connector will be compatible with Mule ESB 3.5.x and Mule ESB 3.6.x. However, external libraries employed by the connector might have conflicts with different Mule ESB versions. Samity checks are mandatory for every Mule ESB Version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_connector_category">2.2. Connector Category</h3>
<div class="paragraph">
<p>There are four types of categories with different support policies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Premium</p>
</li>
<li>
<p>Select</p>
</li>
<li>
<p>Standard</p>
</li>
<li>
<p>Community</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Further information about connector categories can be found <a href="http://www.mulesoft.org/documentation/display/current/Anypoint+Connectors#AnypointConnectors-ConnectorCategories">here</a>.</p>
</div>
<div class="paragraph">
<p>A connector should define its category in the POM properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
<span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;name&gt;</span>Mule Sample Connector <span class="tag">&lt;/name&gt;</span>
<span class="tag">&lt;packaging&gt;</span>pom/packaging<span class="error">&gt;</span>

<span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;category&gt;</span>Select<span class="tag">&lt;/category&gt;</span>
    <span class="tag">&lt;licensePath&gt;</span>LICENSE.md<span class="tag">&lt;/licensePath&gt;</span>
    <span class="tag">&lt;devkit.studio.package.skip&gt;</span>false<span class="tag">&lt;/devkit.studio.package.skip&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If a connector is categorized under <strong>Select</strong>, then the connector code must include the <strong>@RequiresEnterpriseLicense</strong> annotation.</p>
</div>
<div class="paragraph">
<p>If a connector is categorized under <strong>Premium</strong>, then the connector code must include both the <strong>@RequiresEnterpriseLicense</strong> and the <strong>@RequiresEntitlement</strong> annotations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_code_conventions">2.3. Code Conventions</h3>
<div class="paragraph">
<p>This subsection covers the following areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven Conventions and Setup</p>
</li>
<li>
<p>DevKit Standards and Best Practices</p>
</li>
<li>
<p>Connector Demo Example</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_maven_conventions_and_setup">2.4. Maven Conventions and Setup</h3>
<div class="paragraph">
<p>The following section describes set of conventions and best practices to follow at the time to define your connector Maven project structure.</p>
</div>
<div class="sect3">
<h4 id="_best_practices">2.4.1. Best Practices</h4>
<div class="paragraph">
<p>A connector tested in an isolated environment might not work in a Mule environment. Therefore, different constrains apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Follow <a href="http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Maven default name conventions</a>.</p>
</li>
<li>
<p>Do not overwrite org.mule.tools.devkit:mule-devkit-parent properties.</p>
</li>
<li>
<p>Do not reference SNAPSHOT dependencies in plugins or dependencies.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_multi_module_layout">2.4.2. Multi Module Layout</h4>
<div class="paragraph">
<p>In large Maven projects, it is a common practice to divide the project in submodules. This means you may end up with a module for your connector and other modules for utils, commons or other kind of modularized source code that will be consumed by the connector.</p>
</div>
<div class="paragraph">
<p>Consider the following use-case:</p>
</div>
<div class="paragraph">
<p><strong>Project parent pom</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
<span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector-parent<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;name&gt;</span>Mule Sample Connector Parent<span class="tag">&lt;/name&gt;</span>
<span class="tag">&lt;packaging&gt;</span>pom/packaging<span class="error">&gt;</span>

<span class="tag">&lt;modules&gt;</span>
    <span class="tag">&lt;module&gt;</span>some-util-lib<span class="tag">&lt;/module&gt;</span>
    <span class="tag">&lt;module&gt;</span>rehusable-service-adapter<span class="tag">&lt;/module&gt;</span>
    <span class="tag">&lt;module&gt;</span>mule-connector-sample<span class="tag">&lt;/module&gt;</span>
<span class="tag">&lt;/modules&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In your connector&#8217;s module pom.xml:</p>
</div>
<div class="paragraph">
<p><strong>Connector sibling dependencies</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>some-util-lib<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>rehusable-service-adapter<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It is important to notice that your connector&#8217;s pom inherits from <em>mule-devkit-parent</em>, and that each of the other sub-modules inherits from the project parent. Therefore, you will have:</p>
</div>
<div class="paragraph">
<p><strong>Pom extra modules</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;artifactId&gt;</span>some-util-lib<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;packaging&gt;</span>jar<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector-parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/parent&gt;</span>
...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;artifactId&gt;</span>rehusable-service-adapter<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;packaging&gt;</span>jar<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector-parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/parent&gt;</span>
...</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Connector&#8217;s pom</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;artifactId&gt;</span>mule-connector-sample<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;name&gt;</span>Mule Sample Connector<span class="tag">&lt;/name&gt;</span>
<span class="tag">&lt;packaging&gt;</span>mule-module<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.mule.tools.devkit<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>mule-devkit-parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>3.6.0<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/parent&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This mix of pom inheritance and agregation allows you to mantain a general parent pom for your secondary modules, and control the compilation in a single point, while leaves the connector with the required devkit-parent pom, making sure that all the other modules will be installed in your local repository before building the connector.</p>
</div>
<div class="paragraph">
<p>In multi-module projects, the deployment of the artifacts will vary depending on the connector&#8217;s category. Rule-of-thumb is that the parent pom and all the secondary modules (not the connector module) should be deployed to a public nexus repository, while the connector artifact will override its parent dependency management configuration with its own repository rules.</p>
</div>
</div>
<div class="sect3">
<h4 id="__strong_avoid_caching_strong">2.4.3. <strong>Avoid caching</strong></h4>
<div class="paragraph">
<p>Connectors should not hold state, unless is strictly necessary. Several APIs are actually hosted in cloud environments, and therefore caching states ends up in having untrusted data in the connector.
There are a few cases where the connector might need to save some data of the current API while working on it, which leads into caching.</p>
</div>
<div class="paragraph">
<p>For those scenarios where the connector needs caching, the following code should be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 1) The connector asks for the manager of the Object Store</span>
<span class="annotation">@Inject</span>
<span class="directive">protected</span> ObjectStoreManager objectStoreManager;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then uses the manager to get/create a custom Object Store as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 2) The connector asks Mule for the Object Store represented by a &quot;given ID&quot;</span>
ObjectStore&lt;? <span class="directive">extends</span> <span class="predefined-type">Serializable</span>&gt; os = objectStoreManager.getObjectStore(<span class="string"><span class="delimiter">&quot;</span><span class="content">given ID</span><span class="delimiter">&quot;</span></span>);
<span class="comment">// 3) The connector uses it</span>
os.store(<span class="string"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other ways to achieve caching could be through temporal files, but it might depend on the use case.</p>
</div>
</div>
<div class="sect3">
<h4 id="_avoid_spawning_threads">2.4.4. Avoid spawning threads</h4>
<div class="paragraph">
<p>Same as caching, spawning threads is not recommended within a connector as a common API lives in the cloud. This means that a connector will not improve its throughput with more threads, because every communication with the API means more HTTP requests/responses. Although we don&#8217;t recommend using threads, as caching, there might be custom cases where they are actually needed.</p>
</div>
<div class="paragraph">
<p>For those scenarios where the connector needs to spawn threads you should use a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html">Executor Service</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reading_resources_from_within_the_connector">2.4.5. Reading resources from within the connector</h4>
<div class="paragraph">
<p>When reading resources that are bundled with the connector, the usual <code>getClass().getResourceAsStream("custom-file-to-read.txt")</code> will work. But, if the file <code>"custom-file-to-read.txt"</code> can actually be parametrized through the Mule application, then other mechanism should be used.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider that for your connector, a file can be feeded from the src/main/resources folder (again, this file comes from Studio, not from the connector), the following code should be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 1) The connector asks for the manager of the mule context</span>
<span class="annotation">@Inject</span>
<span class="directive">protected</span> MuleContext muleContext;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then reads the resources as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">ClassLoader</span> classLoader = muleContext.getExecutionClassLoader();
<span class="predefined-type">URL</span> resourceURL = classLoader.getResource(<span class="string"><span class="delimiter">&quot;</span><span class="content">custom-file-to-read.txt</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>"custom-file-to-read.txt"</code> is the file to be read from the Mule app in <code>src/main/resources/custom-file-to-read.txt</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mule_dependencies">2.4.6. Mule dependencies</h4>
<div class="paragraph">
<p>Adding dependencies in your connector should be carefully considered, since they might collide with Mule.
A few constraints apply, such as:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When adding Mule artifacts, always use <code>&lt;scope&gt;provided&lt;/scope&gt;</code>.</p>
</li>
<li>
<p>When adding artifacts that might collide with Mule, choose versions that are in the current Mule versios, for what your connector is going to work with. Some of those artifacts are: cxf, jersey, spring, guava, etc.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_shading">2.4.7. Shading</h4>
<div class="paragraph">
<p>For some corner cases, you might need to add a dependency that does collide with Mule. For those scenarios, we strongly recommend to use the same version of the library as Mule does, and if impossible, then change your library to another one.
If you still need that custom library that collides with Mule, then shading could work for you. The support for shading has been added in devkit 3.5.3.</p>
</div>
<div class="paragraph">
<p>You need to modify your connector&#8217;s <code>pom.xml</code> file to add the shading plugin in order to achieve two things: 1) add the custom jar into the connector&#8217;s one and 2) rename the packages of the library into a new one in order to avoid collisions.</p>
</div>
<div class="paragraph">
<p>The following snippet should work when using a library with the groupId <code>org.some.library</code> and the artifactId <code>custom-artifact-id</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.some.library<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>custom-artifact-id<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>2.0<span class="tag">&lt;/version&gt;</span> <span class="comment">&lt;!-- version to be included in the connector jar --&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="error">&lt;</span>!- rest of the configuration --<span class="error">&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-shade-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.3<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="comment">&lt;!-- custom shade configuration --&gt;</span>
                <span class="tag">&lt;artifactSet&gt;</span>
                    <span class="tag">&lt;includes&gt;</span>
                        <span class="tag">&lt;include&gt;</span>org.some.library:custom-artifact-id<span class="tag">&lt;/include&gt;</span>
                    <span class="tag">&lt;/includes&gt;</span>
                <span class="tag">&lt;/artifactSet&gt;</span>
                <span class="tag">&lt;relocations&gt;</span>
                    <span class="tag">&lt;relocation&gt;</span>
                        <span class="tag">&lt;pattern&gt;</span>org.some.library<span class="tag">&lt;/pattern&gt;</span>
                        <span class="tag">&lt;shadedPattern&gt;</span>org.some.library.new.pakage.name.shade<span class="tag">&lt;/shadedPattern&gt;</span>
                    <span class="tag">&lt;/relocation&gt;</span>
                <span class="tag">&lt;/relocations&gt;</span>
             <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>

        <span class="comment">&lt;!-- Other plugins --&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Further explanation can be found <a href="http://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connector_structure">2.4.8. Connector Structure</h4>
<div class="paragraph">
<p>If you create your connector project using the DevKit Studio Plugin, the generated project directory layout is the recommended approach.
If you are interested in more details, the project directory structure is described <a href="files/project-directory-layout.html">here</a>.</p>
</div>
<div class="paragraph">
<p>In order to provide automatic enforcement of this rules, the following plugin must be configure as part of the connectors pom.xml. We will be responsible for validating the project structure.</p>
</div>
<div class="paragraph">
<p>Copy and paste the following snippets in your connector pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;build&gt;</span>
    ...
    <span class="tag">&lt;plugins&gt;</span>
        ...
       <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.mule.certification<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>project-structure-validation<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>1.0.4<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;executions&gt;</span>
                <span class="tag">&lt;execution&gt;</span>
                    <span class="tag">&lt;phase&gt;</span>package<span class="tag">&lt;/phase&gt;</span>
                    <span class="tag">&lt;goals&gt;</span>
                        <span class="tag">&lt;goal&gt;</span>validate<span class="tag">&lt;/goal&gt;</span>
                    <span class="tag">&lt;/goals&gt;</span>
                <span class="tag">&lt;/execution&gt;</span>
            <span class="tag">&lt;/executions&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
        ...
    <span class="tag">&lt;/plugins&gt;</span>
    ...
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_devkit_standars_best_practices">2.5. DevKit Standars and Best Practices</h3>
<div class="sect3">
<h4 id="_datamapper_compliance">2.5.1. DataMapper Compliance</h4>
<div class="paragraph">
<p>To have the best experience in Anypoint™ Studio, connectors must be DataMapper compliant. To achieve this, all operations must follow these recommendations.</p>
</div>
<div class="paragraph">
<p>Any argument, returned or received, must be one of the following data types:
. Map
. POJO
. List&lt;Map&gt;
. List&lt;String&gt;
. List&lt;POJO&gt;
. List&lt;List&lt;String&gt;&gt;</p>
</div>
<div class="paragraph">
<p>These types must be part of the method signature so that DataMapper can auto-recognize the types in it&#8217;s mapping UI.</p>
</div>
<div class="paragraph">
<p><em>Important</em>: Only use a map if you cannot use a POJO.
Only use a map if your data:
. Is schemaless, for example if created using MongoDB.
. Has user customizable schemas, if created with Salesforce.
. Has unknown content.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Good Example</th>
<th class="tableblock halign-left valign-top">Bad Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Map&gt; query()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;DBObject&gt; query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void send(Invoice invoice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">void send(Object object)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invoice getInvoice(String id)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object get(String id, Class typeToCreate)
</p><p class="tableblock">All operations must have a single object to take input from DataMapper. The object must be a single object, not multiple arguments. This object is called the Primary argument.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Good Example</th>
<th class="tableblock halign-left valign-top">Bad Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void createInvoice(Invoice invoice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">createInvoice(Header header, List&lt;LineItems&gt; lineItems)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void upsert(List&lt;Map&gt; sobjects, String type, String externalFieldId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A - Multiple arguments are still needed!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GetTaxResult getTax(TaxRequest request)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>public GetTaxResult getTax(String companyCode,<br>
    AvalaraDocumentType docType,<br>
    @Optional String docCode,<br>
    Date docDate,<br>
    @Optional String salespersonCode,<br>
    String customerCode,<br>
    @Optional String customerUsageType,<br>
    String discount,<br>
    @Optional String purchaseOrderNo)<br>
</code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_annotations">2.5.2. Annotations</h4>
<div class="paragraph">
<p>If you have multiple arguments, annotate the Primary argument with:</p>
</div>
<div class="paragraph">
<p><code>@Default("#[payload]")</code></p>
</div>
<div class="paragraph">
<p>This way DataMapper knows which argument in the operation to use for mapping.</p>
</div>
</div>
<div class="sect3">
<h4 id="_no_warning_during_compilation">2.5.3. No Warning during compilation</h4>
<div class="paragraph">
<p>DevKit does a intensive analysis of the used annotations and semantic of them in conjunction with others. It’s important the the code is free of compilation warning to help on the maintainability of the code and to follow good practices.</p>
</div>
</div>
<div class="sect3">
<h4 id="_devkit_generated_api_doc">2.5.4. DevKit Generated API Doc</h4>
<div class="paragraph">
<p>Connector documentation is composed of two different type of documentation: DevKit Generated DevKit API Doc and the Connector Documentation.</p>
</div>
<div class="paragraph">
<p>DevKit API Doc is automatically generated by DevKit based on the JavaDoc documentation at the connector class. This is one of the most important information used by the developer at the time of using the connector.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connectors_code_convention">2.5.5. Connectors Code Convention</h4>
<div class="paragraph">
<p>We provide a file with a recommended code styling format for connectors.  This is an important aspect of the connectors code quality and most of the connectors uses this standar format.
This style can be imported in <strong>Eclipse, Studio and IntelliJ</strong>.</p>
</div>
<div class="paragraph">
<p>Download the Connectors Style Format: <a href="files/connectors-style-convention.xml">Here</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connector_demo_example">2.6. Connector Demo Example</h3>
<div class="paragraph">
<p>A Mule application&#8217;s endpoints allow a user to interact with the service and API using the connector. Endpoints are committed to the GitHub repository along with source code. Use services or API use cases to determine which connector operations to select.</p>
</div>
<div class="paragraph">
<p>Guidelines to follow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All demo projects <strong>must</strong> be isolated in a folder with a descriptive name (It does not matter if is just only one demo). Eg: <a href="https://github.com/mulesoft/magento-connector/tree/develop/demo" class="bare">https://github.com/mulesoft/magento-connector/tree/develop/demo</a></p>
</li>
<li>
<p>Use a meaningful name for the project. Avoid things such as "my-connector-demo" or "example-1". This name will be displayed in the ApiDoc site. Eg: <a href="http://mulesoft.github.io/salesforce-connector/" class="bare">http://mulesoft.github.io/salesforce-connector/</a></p>
</li>
<li>
<p>The demo name <strong>must</strong> have middle lines to separate the words in it and must be in lower case. example: "mail-service-demo"</p>
</li>
<li>
<p>Don&#8217;t add prefix such as "mule" or "app". Just the purpose of it.</p>
</li>
<li>
<p>Ensure that an app can be run by entering credentials without additional configuration or connector installation.</p>
</li>
<li>
<p>Use placeholders for credentials.</p>
</li>
<li>
<p>Ensure that flow names and message processors display names that make the use case easy to understand.</p>
</li>
<li>
<p>Provide instructions on how to run the app in a README file (for example, <a href="https://github.com/mulesoft/s3-connector/tree/develop/demo/S3-connector-demo">S3</a>). It is recommended to add in a description of the demo application, such as what it aims to demonstrate and what each step of the demo is responsible for. Where application, you can also mention where your demo fits in a larger usecase.</p>
</li>
<li>
<p>Expose a set of endpoints that the user can access following the steps in the README to reproduce a use case.</p>
</li>
<li>
<p>Consider implementing a CRUD (or similar) use case with chained processors whose payloads get logged into the Studio console (for example, <a href="https://github.com/mulesoft/s3-connector/tree/develop/demo/S3-connector-demo">S3</a>).</p>
</li>
<li>
<p>Use DataMapper for Standard or Premium connectors' CRUD (or a similar) use case if API methods attributes and/or return types allow it.</p>
</li>
<li>
<p>Consider basic error handling in the Mule app.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two kinds of demos that you can create:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Single operation demos</p>
</li>
<li>
<p>Workflow demos</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Single operation demos are used to invoke just one operation in the connector. Workflow demos are used to invoke a number of operations in the connector sequentially. These aim to show a simple usecase of the connector, such as a normal CRUD workflow. We provide two templates to help you create an interface for your demo, one for each kind of demo. You can find the template for single operation demos <a href="files/single-operation-demo-template.html">here</a> and the template for the workflow demos <a href="files/workflow-demo-template.html">here</a>.</p>
</div>
<div class="paragraph">
<p>The demo HTML pages above make use of Twitter Bootstrap to present a clean interface to the user. You should base your demo on this template. If you are not familiar with the Twitter Bootstrap library, it is highly suggested to look at <a href="http://getbootstrap.com/getting-started/">their documentation page</a>. Single operation demos only provide a form, whereas workflow demos provide an accordion, where one step leads to the next. In the latter case, any values retrieved by the first step should be used to autofill values in the second step where possible.</p>
</div>
<div class="paragraph">
<p>As an example, let us take a CRUD workflow for a number of Twitter API calls. The first step will create a tweet and return a number of values pertaining to the tweet that was created. One of these values would be the Tweet ID. The second step would be the "read" operation. The tweet ID should be automatically filled in the second step so that the user is simply able to submit a "read" API call without any needed input. The final step of the workflow should present an alert (or a notification of some sort), that the workflow has ended, outputting any relevant information from the last step. An example of this would be a "Tweet Deleted" message if the workflow was completed successfully, and the tweet that was created in the first step is successfully removed.</p>
</div>
<div class="paragraph">
<p>The following code snippets explain some parts of the above HTML page.
The demo contains 3 parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The JavaScript that handles asynchronous calls to the demo running on a Mule instance.</p>
</li>
<li>
<p>The CSS that renders the HTML page</p>
</li>
<li>
<p>The HTML itself</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The JavaScript</strong></p>
</div>
<div class="paragraph">
<p>The JavaScript for this demo is simply used to send AJAX calls to a Mule server that hosts your demo application. In the case of workflow demos, it is also used to collapse the accordions as the user goes from one step to the next.</p>
</div>
<div class="paragraph">
<p>Initially, a reference to the &lt;div&gt; and &lt;form&gt; elements is obtained.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> createDiv   = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#createDiv</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> readDiv     = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#readDiv</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> updateDiv   = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#updateDiv</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> deleteDiv   = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#deleteDiv</span><span class="delimiter">'</span></span>);

<span class="keyword">var</span> createForm  = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#createForm</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> readForm    = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#readForm</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> updateForm  = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#updateForm</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> deleteForm  = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#deleteForm</span><span class="delimiter">'</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, each form is paired with a jQuery function sends an AJAX request whenever a form is submitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">createForm.submit(<span class="keyword">function</span>() {
  <span class="predefined">$</span>.ajax({
    <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">POST</span><span class="delimiter">'</span></span>,                             <span class="comment">// Submit an HTTP POST request</span>
    <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">/create</span><span class="delimiter">'</span></span>,                           <span class="comment">// The URL where your endpoint is listening</span>
    <span class="key">data</span>: createForm.serialize(),             <span class="comment">// Serialized form URL-encoded input</span>
    <span class="function">success</span>: <span class="keyword">function</span>(data) {                 <span class="comment">// Success function called if request succeeds</span>

      <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">input[name=message]</span><span class="delimiter">'</span></span>).val(data.message); <span class="comment">// Autofill data in the next workflow step as needed</span>

      createDiv.collapse(<span class="string"><span class="delimiter">'</span><span class="content">hide</span><span class="delimiter">'</span></span>);             <span class="comment">// Hide current accordion window</span>
      readDiv.collapse(<span class="string"><span class="delimiter">'</span><span class="content">show</span><span class="delimiter">'</span></span>);               <span class="comment">// Show next accordion window</span>
    },
    <span class="function">error</span>: <span class="keyword">function</span>(request, status, error){  <span class="comment">// Error function is executed if an exception occurs in the flow</span>
      alert(request.responseText);            <span class="comment">// Alert the user of any errors</span>
    }
  });

  <span class="keyword">return</span> <span class="predefined-constant">false</span>;                               <span class="comment">// Let jQuery handle the form submission</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the case of a workflow demo, every form will represent a step in the workflow. The above code snippet should be repeated for every form you have in your workflow, applying changes as needed.</p>
</div>
<div class="paragraph">
<p><strong>The CSS</strong></p>
</div>
<div class="paragraph">
<p>The HTML page linked above comes with a number of CSS presets that you can use throughout your demo. A number of Bootstrap CSS classes are also used to build the accordion and the panels within it. For more information on how to build your own accordion, or even extend the one in the HTML template, please refer to the <a href="http://getbootstrap.com/javascript/#collapse-example-accordion">Bootstrap Accordion documentation page</a>.</p>
</div>
<div class="paragraph">
<p><strong>The HTML</strong></p>
</div>
<div class="paragraph">
<p>This part is what ties everything together. The HTML represents what your users will see when they open your demo to use your connector. Take this HTML snippet as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-group</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">accordion</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel panel-default</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-heading</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;h2</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-title demo-heading</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;a</span> <span class="attribute-name">data-toggle</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">collapse</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-parent</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#accordion</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#createDiv</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Create<span class="tag">&lt;/a&gt;</span>
            <span class="tag">&lt;/h2&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">createDiv</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-collapse collapse in</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-body</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;form</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">createForm</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">demo-form</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
                    <span class="tag">&lt;label&gt;</span>Message<span class="tag">&lt;/label&gt;</span>
                    <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">message</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello from Mule!</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">required</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-control</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span><span class="tag">&lt;br&gt;</span>
                    <span class="tag">&lt;input</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btn btn-lg btn-primary btn-block</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Create</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;br&gt;</span>
                <span class="tag">&lt;/form&gt;</span>
            <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    ...
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above snippet of HTML is taken from the workflow demo template, it represents a single panel in the accordion. This panel is split into two parts: the header and the content. The header refers to the content through the anchor tag (&lt;a&gt;). When this header is clicked, the content is shown. On the other hand, the content is composed of a simple form that is used to submit requests to Mule. These requests are handled by the JavaScript shown above.</p>
</div>
<div class="paragraph">
<p>For a complete example of a workflow demo, you can download a sample project that uses MongoDB <a href="files/workflow-operations-demo.zip">here</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_static_code_analysis_and_coverage">3. Static Code Analysis and Coverage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most automatic validations on your connector’s code are done with SonarQube, an open source static code analysis tool that helps developers identify hot spots in code, bad code quality, technical debt, as well as define a number of other issues. To release a connector, you must fix blocker and critical issues.</p>
</div>
<div class="paragraph">
<p>To perform these validations yourself, install and configure a the SonarQube server that we provide with rules specific to the certification process. If you are certifying multiple connectors, you can reuse the same server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For guidelines on how to build your tests using this framework, see <a href="#functional-tests-automation">Automated Functional Testing</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_installing_sonarqube">3.1. Installing SonarQube</h3>
<div class="paragraph">
<p>The quickest way to get SonarQube up and running is to install it locally with an embedded database. If you wish to use a standalone database or a more advanced configuration, see the related SonarQube Eclipse Plugin Setup documentation.</p>
</div>
<div class="paragraph">
<p>You need a server running Oracle JRE 6 or higher. (OpenJRE or other distributions are not supported by SonarQube.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and extract the latest version of <a href="http://www.sonarqube.org/downloads">SonarQube</a>(all platforms).</p>
</li>
<li>
<p>Run <em>&lt;installDir&gt;/bin/&lt;yourOS&gt;/sonar.sh start</em> or <em>&lt;installDir&gt;\bin\&lt;yourOS&gt;\StartSonar.bat</em> if on Windows. The server might take a while to start even after the “Started SonarQube” message appears.</p>
</li>
<li>
<p>Browse to <a href="http://localhost:9000" class="bare">http://localhost:9000</a>.</p>
</li>
<li>
<p>Log in with the following credentials:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Username: admin</p>
</li>
<li>
<p>Password: admin</p>
</li>
</ol>
</div>
</li>
<li>
<p>Download our <a href="files/quality-profile.xml">Custom Quality Profile</a></p>
</li>
<li>
<p>Go to the <strong>Quality Profiles</strong> tab and Click <strong>Create</strong>.</p>
</li>
<li>
<p>Then choose the <strong>Quality Profile</strong> file that you downloaded, name it "Anypoint Connectors Profile" and click <strong>Create</strong>.</p>
</li>
<li>
<p>When you see the profile in the list click in <strong>Set as Default</strong>.</p>
</li>
<li>
<p>Finally you need to set the exclusions, to set this go to <strong>Settings</strong> and click <strong>Exclusions</strong>.</p>
</li>
<li>
<p>In the <strong>Code Coverage</strong> tab add <em>target/**</em></p>
</li>
<li>
<p>Click <strong>Add Value</strong>  and click <strong>Save Code Coverage Settings</strong>.</p>
</li>
<li>
<p>In the <strong>Files</strong> tab add <em>target/**</em> under <em>Global Source File Exclusions</em> and <em>Global Test File Exclusions</em>.</p>
</li>
<li>
<p>Finally, click <strong>Add Value</strong> in both and click <strong>Save Files Settings</strong>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-01.png" alt="sonar 01">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_performing_your_first_analysis">3.2. Performing Your First Analysis</h3>
<div class="paragraph">
<p>For the first run of your project, go to the project’s root folder and run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent test
	-Dmaven.test.failure.ignore=true -Dtest=RegressionTestSuite
	-D&lt;connector&gt;_CREDENTIALS=automation-credentials.properties
	&amp;&amp; mvn install &amp;&amp; mvn sonar:sonar

mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent
	install-Dmaven.test.failure.ignore=true &amp;&amp; mvn sonar:sonar</pre>
</div>
</div>
<div class="paragraph">
<p>This creates the project in your sonar installation, allowing you to use the Eclipse SonarQube plugin from inside your Anypoint™ Studio. Using this plugin is the recommended way, but is always possible to run the inspections manually with * mvn sonar:sonar *.</p>
</div>
<div class="paragraph">
<p>If you are experiencing false positive issues, you can disable the inspection using //NOSONAR comment at the end of a line which has the issue on a case-by-case basis. Every use of //NOSONAR is recorded by SonarQube as an Info issue so you can track its usage in your connector’s code.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The use of <strong>//NOSONAR</strong> comments should only be used when there is full certainty that this inspection is a false positive.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, suppose you have an incorrectly capitalized method that you can’t change. This is normally a blocker issue:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-1.png" alt="sonar 1">
</div>
</div>
<div class="paragraph">
<p>After adding the <strong>//NOSONAR</strong> marker, this is no longer a blocker issue, but is marked as Info so you can track the usage of //NOSONAR throughout your project:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-2.png" alt="sonar 2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sonarqube_eclipse_plugin_setup">3.3. SonarQube Eclipse Plugin Setup</h3>
<div class="ulist">
<ul>
<li>
<p>Open Anypoint™ Studio, then select Help &gt; Install New Software.</p>
<div class="imageblock">
<div class="content">
<img src="images/sonar-3.png" alt="sonar 3">
</div>
</div>
</li>
<li>
<p>In the Work with text box, fill in the update site URL:
SonarQube Integration for Eclipse (update-site) - <a href="http://dist.sonar-ide.codehaus.org/eclipse/" class="bare">http://dist.sonar-ide.codehaus.org/eclipse/</a></p>
<div class="imageblock">
<div class="content">
<img src="images/sonar-4.png" alt="sonar 4">
</div>
</div>
</li>
<li>
<p>Check the SonarQube Java option.</p>
</li>
<li>
<p>After completing the installation, restart Anypoint™ Studio.</p>
</li>
<li>
<p>Open Anypoint™ Studio’s preferences, and browse to the SonarQube section. Expand it, and select the Servers subsection. Click Add and fill in the URL and credentials for your server (by default, admin/admin).</p>
<div class="imageblock">
<div class="content">
<img src="images/sonar-5.png" alt="sonar 5">
</div>
</div>
<div class="paragraph">
<p>Click the <strong>Test connection</strong> button to ensure that your settings are correct.</p>
</div>
</li>
<li>
<p>To associate your project on the SonarQube server, perform a full analysis once. You can do this by running mvn sonar:sonar in your Connector project.</p>
<div class="paragraph">
<p>You should perform this full analysis from a machine that is on the same network as the SonarQube database, otherwise it might take very long to complete.</p>
</div>
<div class="paragraph">
<p>When your project finishes analyzing, in Studio right-click your connector project and click <strong>Configure &gt; Associate with SonarQube</strong>. Because your project was analyzed with Maven, the association detects automatically.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-6.png" alt="sonar 6">
</div>
</div>
</li>
<li>
<p>After association, your project is analysed with SonarQube and the results are shown on the SonarQube issues tab. Also, the Package Explorer and file editor display error and warning icons according to the issues on your project.</p>
<div class="paragraph">
<p>New issues introduced since the previous analysis are marked as errors, while existing issues are marked as warnings. This is a cosmetic difference only, which helps to highlight new technical debt being introduced in your code before you check it in.</p>
</div>
</li>
<li>
<p>To analyse your project again, right-click it and click <strong>SonarQube &gt; Analyse</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_profile_rules">3.4. Quality Profile Rules</h3>
<div class="paragraph">
<p>SonarQube classifies each issue with a severity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Blocker &amp; Critical: Bugs or unacceptable programming practices. Your connector cannot have blocker or Critical issues to be certified. You must correct all issues.</p>
</li>
<li>
<p>Major:  These inspections fall in a similar category to the critical issues but with lower priority.</p>
</li>
<li>
<p>Minor: Correctness, clarity or performance issues that do not impact your connector’s functionality significantly.</p>
</li>
<li>
<p>Info: Keeps track of useful information that might otherwise go unnoticed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To see the full list of rules checked by SonarQube, browse to the Anypoint™ Connectors Certification quality profile through the web UI.</p>
</div>
</div>
<div class="sect2">
<h3 id="_code_coverage">3.5. Code Coverage</h3>
<div class="paragraph">
<p>SonarQube also lets you manage Code Coverage reports of your connector.</p>
</div>
<div class="paragraph">
<p>Generate a code coverage report in SonarQube with this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install
	-Dmaven.test.failure.ignore=true &amp;&amp; mvn sonar:sonar</pre>
</div>
</div>
<div class="paragraph">
<p>After this command finishes executing, Sonar displays a report with the name of your connector. For example, this screenshot shows the Salesforce connector’s Sonar report after running every Unit test and Functional test:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/coverage-guidelines-1.png" alt="coverage guidelines 1">
</div>
</div>
<div class="paragraph">
<p>Delving further into the project details shows you a code coverage percentage on a per-class basis.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/coverage-guidelines-2.png" alt="coverage guidelines 2">
</div>
</div>
<div class="paragraph">
<p>Delving even further, it shows you the exact lines that are covered by tests and those that are not.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/coverage-guidelines-3.png" alt="coverage guidelines 3">
</div>
</div>
<div class="paragraph">
<p>Every connector method must have unit or automation tests. A connector fails certification if it does not have all its message processors, message sources, and custom transformers covered by unit tests or automation tests. Also, all the utility classes that are part of a connector must have a high level of code coverage.</p>
</div>
<div class="sect3">
<h4 id="_code_coverage_must_be_no_less_than_70">3.5.1. Code coverage must be no less than 70%.</h4>
<div class="paragraph">
<p>Testing your processors gives you a good indication of the quality of your connector. When you build automation tests, you are using your own connector to connect to an API. If you find it hard to test all cases of a message processor, then consider separating your message processors into smaller ones, if possible.</p>
</div>
<div class="paragraph">
<p>If your connector bases its processing around metadata, test every possible metadata entry that the API supports. As an example, the Salesforce connector supports multiple SFDC objects (such as Account, Contact, Lead etc.), but it only contains one “create” operation. Create a unit test for every metadata object to ensure proper compatibility with the message processor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ignoring_classes_from_testing">3.5.2. Ignoring Classes from Testing</h4>
<div class="paragraph">
<p>You should <strong>NEVER</strong> prevent classes from being tested unless there is good reason. If you feel that there is a need to ignore classes from inspection, contact either Mariano Quintela, or Paulo Gustavo Veiga. Unless explicitly stated in the code comments or in some form of internal documentation, assume that all code must be inspected. Any ignored classes or packages without proper explanation should be inspected and any blocker or critical issues that arise should be resolved, <strong>and tested</strong> by the developer before the connector is released.</p>
</div>
<div class="paragraph">
<p>There are a number of ways of ignoring classes that you do not want inspected by SonarQube:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Method level ignore:</p>
<div class="ulist">
<ul>
<li>
<p>Methods can be ignored by adding a //NOSONAR comment next to the method declaration. Example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> someMethodToNotInspect() { <span class="comment">//NOSONAR</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Class level ignore</p>
<div class="ulist">
<ul>
<li>
<p>It may be the case that whole classes need to be ignored because they’re not in the control of the developer. As an example, the SFDC Connector contains classes from the SFDC JAR. These had to be modified slightly to include no-args constructors for DataSense reasons. As a result, these classes have to be ignored since the code quality is not in control of the SFDC Connector developer.</p>
</li>
<li>
<p>Classes can be completely ignored by adding // NOSONAR next to the class level definition. Example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyClassThatShouldntBeInspected</span> { <span class="comment">// NOSONAR</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Package level ignore</p>
<div class="ulist">
<ul>
<li>
<p>Whole packages can be ignored by adding the “sonar.exclusions” property inside the pom.xml file. Example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
        <span class="tag">&lt;sonar.exclusions&gt;</span>src/main/java/com/sforce/**/*<span class="tag">&lt;/sonar.exclusions&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This ignores any file under the com.sforce package under src/main/java.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_quality_review_guideline">3.6. Code Quality Review Guideline</h3>
<div class="paragraph">
<p>This is a hard area to tackle because typically, the person running certification is different from the one implementing the connector and writing tests for it. As a result, you might inspect the code and be completely lost.</p>
</div>
<div class="paragraph">
<p>If code documentation is not sufficient, point this out to the developer and PM.</p>
</div>
<div class="paragraph">
<p>As you try to understand the code, you might run into certain code pieces that you’re not sure why they’re there. As an example, PeopleSoft contained synchronous code and some time was spent by the developer understanding why they were there. It turns out that they were not needed, and were causing a degree of locking when working with concurrent requests. If you think that there are code blocks that feel out of place, mention it to the developer or PM.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functional_tests_automation">4. Functional Tests Automation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains how to automate functional test cases on Anypoint MuleSoft Connectors.</p>
</div>
<div class="sect2">
<h3 id="_intro">4.1. Introduction</h3>
<div class="paragraph">
<p>Functional tests aim at assuring the correct behaviour of the connector within a particular Mule runtime environment, particular testing how well it integrates with Mule components.</p>
</div>
<div class="paragraph">
<p>Functional testing is a mandatory step within the certification process and need to be carried out following strict practices, who are detailed throughout this section.</p>
</div>
<div class="sect3">
<h4 id="_connector_testing_framework">4.1.1. Connector Testing Framework</h4>
<div class="paragraph">
<p>The main objective is to test the connector with different Mule runtime environments through the Connector Testing Framework, allowing to detect possible conflicts, such as class loading issues.</p>
</div>
<div class="paragraph">
<p>Documentation of the Connector Testing Framework is available <a href="https://github.com/mulesoft/connector-testing-framework">here</a>. This framework eases the creation of connector functional tests, where the developer is not necessarily involved with Mule&#8217;s internals, such as flows, configurations and Spring beans. The objective of this framework is twofold. On the one hand, we decouple how Mule works and how functional tests are written. On the other hand, we enable a runtime platform to run connector tests with multiple Mule versions by executing the tests in remote Mule instances, achieving a decoupled runtime environment.</p>
</div>
</div>
<div class="sect3">
<h4 id="_test_organization">4.1.2. Test Organization</h4>
<div class="paragraph">
<p>Functional tests need to be engineered and organized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unit and Functional tests are ran separately. Unit tests are always run when executing <em>mvn clean install</em>, while functional tests are explicitly executed by means of a Test Suite, called <em>FunctionalTestSuite</em>.</p>
</li>
<li>
<p>FunctionalTestSuite groups all functional tests with no exception, where every test is marked with the <em>FunctionalTest.class</em> category, available within the Connector Testing Framework.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_naming_convention">4.1.3. Naming Convention</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unit tests should follow JUnit naming conventions, normally ending with <em>Test</em>.</p>
</li>
<li>
<p>Functional tests must end with <em>TestCases</em></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_test_data">4.1.4. Test data</h4>
<div class="paragraph">
<p>Test data must be contained within a <em>TestDataBuilder.java</em> class. This test data builder must generate all necessary test data for every single functional test. Developers are free to use whatever data input techniques within this class.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_framework_and_test_suite_components">4.2. Connector Testing Framework Components</h3>
<div class="paragraph">
<p>All functional test cases classes must extend from a FunctionalTestParent, as explained in the Connector Testing Framework documentation. This functional test parent is kept within the connector testing framework, which can be extended if further behaviour is required.</p>
</div>
<div class="paragraph">
<p>Every test case needs to be named as &lt;OperationName&gt;TestCases. These naming conventions avoid Maven to automatically run test cases, since tests require credentials and therefore automatically running them without the proper set of credentials will produce tests to fail.</p>
</div>
<div class="sect3">
<h4 id="__operationname_testcases_class">4.2.1. &lt;OperationName&gt;TestCases Class</h4>
<div class="paragraph">
<p>Each operation in the connector has an <strong>&lt;OperationName&gt;TestCases.java</strong> class that contains its related test cases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.FunctionalTests</span>;

<span class="directive">public</span> <span class="type">class</span> &lt;<span class="class">OperationName</span>&gt;TestCases <span class="directive">extends</span> FunctionalTestParent {

   <span class="comment">// private attributes used as auxiliary fields for storing test run values</span>
   <span class="directive">private</span> <span class="predefined-type">Integer</span> leadRecordId;

   <span class="comment">// Extend parent setUp. Use to create required data for the test.</span>
   <span class="annotation">@Before</span>
   <span class="directive">public</span> <span class="type">void</span> setUp() <span class="directive">throws</span> <span class="exception">Exception</span> {
     ...
   }

   <span class="comment">// returns the sandbox to its original state</span>
   <span class="annotation">@After</span>
   <span class="directive">public</span> <span class="type">void</span> tearDown() <span class="directive">throws</span> <span class="exception">Exception</span> {
      ...
   }

   <span class="comment">//Method that invokes the connector operation under test and asserts on its payload</span>
   <span class="annotation">@Category</span>({FunctionalTests.class})
   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> test&lt;operationName&gt;() {
      <span class="keyword">try</span> {
         ...
      } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
        <span class="comment">//Manage exception accordingly</span>
      }
   }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_test_resources">4.2.2. Test Resources</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>automation-credentials.properties</strong> stores the connector credentials and authenticated user related information.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_test_development_environment_set_up">4.2.3. Test Development Environment Set Up</h4>
<div class="paragraph">
<p>After building a connector, add <strong>target/generated-sources/mule</strong> to the project build path. You may need to add other generated sources to the build path depending on the connector (such as target/generated-sources/cxf).</p>
</div>
<div class="paragraph">
<p>If a connector is <strong>Standard</strong>, add a <strong>muleLicenseKey.lic</strong> to the <strong>src/test/resources</strong> folder and remove it prior to committing your changes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_packages_and_files">4.2.4. Packages and Files</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>org.mule.modules.&lt;connector-project&gt;.automation.testrunners</strong> contains the runner (FunctionalTestSuite).</p>
</li>
<li>
<p><strong>org.mule.modules.&lt;connector-project&gt;.automation.testcases</strong> contains the functional test cases exclusively.</p>
</li>
<li>
<p><strong>&lt;connector-project&gt;/src/test/resources</strong> contains the credentials file.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_keeping_headers_updated">4.2.5. Keeping Headers Updated</h4>
<div class="paragraph">
<p>Change the connector version to current to avoid breaking the configuration XML file, for example,</p>
</div>
<div class="paragraph">
<p>from: <code><a href="http://www.mulesoft.org/schema/mule/taleo/1.0-SNAPSHOT/mule-taleo.xsd" class="bare">http://www.mulesoft.org/schema/mule/taleo/1.0-SNAPSHOT/mule-taleo.xsd</a></code></p>
</div>
<div class="paragraph">
<p>To: <code><a href="http://www.mulesoft.org/schema/mule/taleo/current/mule-taleo.xsd" class="bare">http://www.mulesoft.org/schema/mule/taleo/current/mule-taleo.xsd</a></code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_methods">4.3. Topics to Test</h3>
<div class="paragraph">
<p>There are different aspects to tests, including: Metadata, Pagination and WSDL operations. Every approach is detailed within the documentation of the Connector Testing Framework.</p>
</div>
<div class="sect3">
<h4 id="_metadata_testing">4.3.1. Metadata Testing</h4>
<div class="paragraph">
<p>DataSense allows a connector to gather metadata from the remote service in design time, enabling Anypoint developers to deal with actual object types and objects descriptions.</p>
</div>
<div class="paragraph">
<p>In order to test DataSense, two operations are provided by the connector dispatcher. This scenario is illustrated in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@Category</span>({FunctionalTest.class})
        <span class="annotation">@Test</span>
        <span class="annotation">@MetadataTest</span>
        <span class="directive">public</span> <span class="type">void</span> testGetMetaDataKeys() {
                <span class="keyword">try</span> {

                        <span class="predefined-type">Result</span>&lt;<span class="predefined-type">List</span>&lt;MetaDataKey&gt;&gt; metaDataKeysResult = dispatcher.fetchMetaDataKeys();

                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(metaDataKeysResult.getStatus()));
                <span class="predefined-type">List</span>&lt;MetaDataKey&gt; metaDataKeys = metaDataKeysResult.get();

                <span class="keyword">for</span> (MetaDataKey key : metaDataKeys) {
                        <span class="keyword">if</span> (accountKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Account</span><span class="delimiter">&quot;</span></span>)) {
                                accountKey = key;
                        }
                        <span class="keyword">if</span> (contactKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Contact</span><span class="delimiter">&quot;</span></span>)) {
                                contactKey = key;
                        }
                        <span class="keyword">if</span> (customObjectKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">CustomObject</span><span class="delimiter">&quot;</span></span>)) {
                                customObjectKey = key;
                        }
                        <span class="keyword">if</span> (customFieldKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">CustomField</span><span class="delimiter">&quot;</span></span>)) {
                                customFieldKey = key;
                        }
                        <span class="keyword">if</span> (externalDataSourceKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">ExternalDataSource</span><span class="delimiter">&quot;</span></span>)) {
                                externalDataSourceKey = key;
                        }
                }

                assertNotNull(accountKey);
                assertNotNull(contactKey);
                assertNotNull(customObjectKey);
                assertNotNull(customFieldKey);
                assertNotNull(externalDataSourceKey);

               <span class="predefined-type">Result</span>&lt;MetaData&gt; accountKeyResult = dispatcher.fetchMetaData(accountKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(accountKeyResult.getStatus()));

                        <span class="predefined-type">Result</span>&lt;MetaData&gt; contactKeyResult = dispatcher.fetchMetaData(contactKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(contactKeyResult.getStatus()));

                        <span class="predefined-type">Result</span>&lt;MetaData&gt; customObjectKeyResult = dispatcher.fetchMetaData(customObjectKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(customObjectKeyResult.getStatus()));

                        <span class="predefined-type">Result</span>&lt;MetaData&gt; customFieldKeyResult = dispatcher.fetchMetaData(customFieldKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(customFieldKeyResult.getStatus()));

                        <span class="predefined-type">Result</span>&lt;MetaData&gt; externalDataSourceKeyResult = dispatcher.fetchMetaData(externalDataSourceKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(externalDataSourceKeyResult.getStatus()));

                } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
                        fail(ConnectorTestUtils.getStackTrace(e));
                }
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The connector dispatcher exposes two methods, <strong>fetchMetaDataKeys()</strong> and <strong>fetchMetaData(keyName)</strong>. The first one fetches all keys from the MetaData underlying service, while the second one retrieves the descriptor for a particular MetadataKey.</p>
</div>
<div class="paragraph">
<p>It is important to notice that MetaData test cases need to be annotated with <strong>MetaDataTest</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__paginated_methods">4.3.2. @Paginated methods</h4>
<div class="paragraph">
<p>There are different features in Mule, such as pagination, that requires a slightly different approach when testing them.</p>
</div>
<div class="paragraph">
<p>A connector method can be annotated as @Paged, which means that when calling that method, several calls to the underlying API will be generated so as to avoid retrieving a possible big set of results in one API call. As a result, the user will consume the entire set of results with a single call to the method, although Mule will automatically generate different API calls.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider that we have a <em>Query(..)</em> method, which is annotated as @Paged and defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Processor</span>
<span class="annotation">@OAuthProtected</span>
<span class="annotation">@Category</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">Category name</span><span class="delimiter">&quot;</span></span>, description = <span class="string"><span class="delimiter">&quot;</span><span class="content">A description here.</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Paged</span>
<span class="directive">public</span> ProviderAwarePagingDelegate&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;, Connector&gt; query(<span class="annotation">@Query</span> <span class="annotation">@Placement</span>(group = <span class="string"><span class="delimiter">&quot;</span><span class="content">Query</span><span class="delimiter">&quot;</span></span>) <span class="directive">final</span> <span class="predefined-type">String</span> query, <span class="directive">final</span> PagingConfiguration pagingConfiguration, <span class="annotation">@Placement</span>(group = <span class="string"><span class="delimiter">&quot;</span><span class="content">SOAP Headers</span><span class="delimiter">&quot;</span></span>) <span class="annotation">@FriendlyName</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Headers</span><span class="delimiter">&quot;</span></span>) <span class="annotation">@Optional</span> <span class="directive">final</span> <span class="predefined-type">Map</span>&lt;Header, <span class="predefined-type">Object</span>&gt; headers) {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to test this paginated method, we enable the following mechanism within the test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Before</span>
        <span class="directive">public</span> <span class="type">void</span> setUp() <span class="directive">throws</span> <span class="exception">Exception</span> {

                JobInfo jobInfo = connector.createJob(OperationEnum.insert, <span class="string"><span class="delimiter">&quot;</span><span class="content">Account</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Id</span><span class="delimiter">&quot;</span></span>, ContentType.XML, ConcurrencyMode.Parallel);
                jobId = jobInfo.getId();
        }

    <span class="annotation">@Category</span>({RegressionTest.class})
        <span class="annotation">@Test</span>
        <span class="directive">public</span> <span class="type">void</span> testQuery() {

                <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; queriedRecordIds = sObjectsIds;
                <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; returnedSObjectsIds = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt;();

                <span class="keyword">try</span> {
                        <span class="predefined-type">Object</span><span class="type">[]</span> args = <span class="keyword">new</span> <span class="predefined-type">Object</span><span class="type">[]</span> { <span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT Id, Name, FROM Account WHERE BillingCity = 'Chicago'</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>, <span class="predefined-constant">null</span> };

                        <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;&gt; list = (<span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;&gt;) dispatcher.runPaginatedMethod(<span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>, args);

                        <span class="type">int</span> count = <span class="integer">0</span>;
                        <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;&gt; iter = list.iterator();
                        <span class="keyword">while</span> (iter.hasNext()) {
                                <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt; sObject = iter.next();
                                returnedSObjectsIds.add(sObject.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">Id</span><span class="delimiter">&quot;</span></span>).toString());
                                count++;
                        }

                        assertTrue(returnedSObjectsIds.size() &gt; <span class="integer">0</span>);
                        assertEquals(count,  list.size());

                        <span class="keyword">for</span> (<span class="type">int</span> index = <span class="integer">0</span>; index &lt; queriedRecordIds.size(); index++) {
                                assertTrue(returnedSObjectsIds.contains(queriedRecordIds.get(index).toString()));
                     }

                } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
                        fail(ConnectorTestUtils.getStackTrace(e));
                }
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This test extract illustrates how pagination works. If we try to execute connector.Query(&#8230;&#8203;), a runtime exception <strong>UnsupportedMethodAnnotationException</strong> will be thrown by the testing framework. We need to used the dispatcher instead, which exposes a <strong>runPaginatedMethod(methodName, args)</strong>. The first parameter is the method name (camel-like), while the second is the list of parameter taken by the method in the same order as defined in its signature. In this case the first parameter is the query itself, while the last two parameters (a PagingConfiguration instance and a Map of headers) are not present.</p>
</div>
<div class="paragraph">
<p>It is important to notice that we provide a mechanism to test operations annotated with @Paged, which indirectly tests the underlying pagination mechanism. However, testing how the pagination mechanisms works, <em>i.e.</em> testing the number of pages retrieved and the values within each page should not be performed with the testing framework, since most likely it is a unit test and not a functional test.</p>
</div>
</div>
<div class="sect3">
<h4 id="_wsdl_operation_testing">4.3.3. WSDL Operation Testing</h4>
<div class="paragraph">
<p>Testing WSDL operations is supported by means of the following method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">WSDLTestCase</span> <span class="directive">extends</span> AbstractTestCase {

    <span class="annotation">@Category</span>({RegressionTests.class})
    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> execute() <span class="directive">throws</span> <span class="exception">Exception</span> {

        XMLStreamReader request = TestdataBuilder.getIncidentInsertRequest();

        ConnectorDispatcher&lt;Connector&gt; dispatcher = <span class="local-variable">this</span>.getDispatcher();

        XMLStreamReader result = dispatcher.invokeWsdlOperation(request, <span class="string"><span class="delimiter">&quot;</span><span class="content">incident</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">insert</span><span class="delimiter">&quot;</span></span>);

        <span class="comment">//Asserts on result</span>

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a simple example illustrating how the testing framework supports WSDL operations with a single method. The first parameter is a XMLStreamReader input. The second argument is the WSDL ID to be used, while the last one stands for the operation name. If your connector does not include multiple service definitions, you might opt for using a variant of the method without the WSDL ID.</p>
</div>
<div class="paragraph">
<p>In this example a TestdataBuilder is used, which is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">javax.xml.stream.XMLStreamReader</span>;
<span class="keyword">import</span> <span class="include">org.mule.tools.devkit.ctf.utils.XMLUtils</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">TestdataBuilder</span> {


    <span class="directive">public</span> <span class="directive">static</span> XMLStreamReader getIncidentInsertRequest(){

         XMLStreamReader request = XMLUtils.loadResource(<span class="string"><span class="delimiter">&quot;</span><span class="content">incident#insert-request.xml</span><span class="delimiter">&quot;</span></span>);

         <span class="keyword">return</span> request;
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anypoint_studio_iteroperability_testing">5. Anypoint™ Studio Interoperability Testing</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose">5.1. Purpose</h3>
<div class="paragraph">
<p>Based on these guidelines, analyze the connector you&#8217;re testing and provide a test suite build from these generic test cases (only a document with general and operation­specific test cases titles) with all tests in Passed status.</p>
</div>
<div class="paragraph">
<p>Specific test cases from the Interop Test guideline are automated and their execution in Anypoint Studio using the DevKit Plugin is described next.</p>
</div>
<div class="sect3">
<h4 id="_introduction_2">5.1.1. Introduction</h4>
<div class="paragraph">
<p>The following framework consists of a series of automation tools, which allow you to run interoperability tests on a connector in Anypoint Studio. The data used by these tests  generates using not only the connectors code, but also DevKit output files, in particular the schema and editors file.</p>
</div>
<div class="paragraph">
<p>All cases described in the following section should be considered depending on the connector’s nature. This means, all the applicable test cases detailed there must be covered for a full interoperability test of the connector.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Anypoint Studio plugin covers only the following cases:
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Connectivity testing</p>
</li>
<li>
<p>Datamapper compliance</p>
</li>
<li>
<p>Xml generation</p>
</li>
<li>
<p>DataSense testing</p>
</li>
<li>
<p>OAuth Static DataSense</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_installation">5.1.2. Installation</h4>
<div class="sect4">
<h5 id="_step_1_check_requirements">Step 1: Check  Requirements</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html">JDK 7</a></p>
</li>
<li>
<p><a href="http://maven.apache.org/download.cgi">Apache Maven</a></p>
</li>
<li>
<p><a href="http://www.mulesoft.org/download-mule-esb-community-edition">Anypoint Studio</a></p>
</li>
<li>
<p>DevKit Plugin</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_interop_test_tutorial">5.1.3. Interop Test Tutorial</h4>
<div class="sect4">
<h5 id="_step_1_anypoint_connector_project_in_workspace">Step 1: Anypoint Connector Project in Workspace</h5>
<div class="paragraph">
<p>Open your connector in Anypoint Studio, if you don&#8217;t have it imported, import the project as <strong>Anypoint Connector Project from External Location</strong></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If you never opened you connector proyect into Anypoint Studio, open a terminal and run this command in your connector root folder: <code>mvn eclipse:eclipse</code><br>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_step_2_generating_test_data_files">Step 2: Generating Test Data Files</h5>
<div class="paragraph">
<p>If you are not familiar with testData files used for interop testing, refer to Appendix B.<br>
Right-click the name of your connector in the Package Explorer and click <br>
<strong>Anypoint Connector &gt; Generate Tests</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/test-plugin-1.png" alt="test plugin 1">
</div>
</div>
<div class="paragraph">
<p>The <strong>Tests Scaffolding Generation</strong> dialog lets you select the operations in scope and the different files type of tests, functional or interoperability, that the required test data files generate:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/test-plugin-2.png" alt="test plugin 2">
</div>
</div>
<div class="paragraph">
<p>Interop Test Data Generation setup:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>Select All</strong> button. The generation considers all available message processors of the connector.</p>
</li>
<li>
<p>Under Studio Interop Tests, check <strong>Generate Interop Test Data Files</strong></p>
</li>
<li>
<p>Leave the default test data filename <strong>interop-testdata.xml</strong> or define one of your own. The default behavior in case of finding matching filenames on the output folder is to update them.</p>
</li>
<li>
<p><strong>(Optional)</strong> "Credentials File" expected input is the path to a .properties file, which is used to determine which Configuration Element fields are required for authentication. The effects of this can be seen on the <strong>interop-testData-override.xml</strong> file. For example .properties contains:</p>
<div class="listingblock">
<div class="content">
<pre>salesforce.username=value
salesforce.password=value
salesforce.securityToken=value
salesforce.url=value</pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Finish</strong>, if you already have any interop-testada file, you will be asked if you want to <strong>Update</strong> or <strong>Replace</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The result of the Tests Scaffolding Generation process are be the following files (see Files section for details):</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Generated files are placed on <strong>src/test/resources/</strong>.
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<strong><em>interop-testdata.xml</em></strong>
</td>
<td class="hdlist2">
<p>Basic data retrieved from the connector. Provides a complete view of every processor and all its attributes.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<strong><em>interop-testdata-override.xml</em></strong>
</td>
<td class="hdlist2">
<p>Presents a subset of the data found in the previous file, with only the required fields, but adds information about the connector and processor features and properties</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example of <strong>interop-testdata-override.xml</strong> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="tag">&lt;connector</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;properties&gt;</span>
                                <span class="tag">&lt;connectivity-support&gt;</span>true<span class="tag">&lt;/connectivity-support&gt;</span>
                                <span class="tag">&lt;OAuth-authentication&gt;</span>false<span class="tag">&lt;/OAuth-authentication&gt;</span>
                                <span class="tag">&lt;metadata&gt;</span>dynamic<span class="tag">&lt;/metadata&gt;</span>
                                <span class="tag">&lt;datasense-enabled&gt;</span>true<span class="tag">&lt;/datasense-enabled&gt;</span>
                                <span class="tag">&lt;transformer&gt;</span>false<span class="tag">&lt;/transformer&gt;</span>
                <span class="tag">&lt;/properties&gt;</span>
                <span class="tag">&lt;global-config</span> <span class="attribute-name">credentialsFile</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforce-credentials.properties</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                                <span class="tag">&lt;config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">config</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                                                <span class="tag">&lt;attributes&gt;</span>
                                                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Username</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Connection</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefix</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>${salesforce.username}<span class="tag">&lt;/attribute&gt;</span>
                                                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Password</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Connection</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefix</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>${salesforce.password}<span class="tag">&lt;/attribute&gt;</span>
                                                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">securityToken</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Security Token</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Connection</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefix</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>${salesforce.securityToken}<span class="tag">&lt;/attribute&gt;</span>
                                                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">url</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Url</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Connection</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">default</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://login.salesforce.com/services/Soap/u/31.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefix</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>${salesforce.url}<span class="tag">&lt;/attribute&gt;</span>
                                                <span class="tag">&lt;/attributes&gt;</span>
                                <span class="tag">&lt;/config&gt;</span>
                                <span class="tag">&lt;config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">config-with-oauth</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                <span class="tag">&lt;/global-config&gt;</span>
                <span class="tag">&lt;message-processors&gt;</span>
                                <span class="tag">&lt;processor</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">search</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">search</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Search</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                                                <span class="tag">&lt;properties&gt;</span>
                                                                <span class="tag">&lt;datamapper</span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">Map</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">output</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Map</span><span class="entity">&amp;lt;</span><span class="content">SalesforceHeader,Object</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                                                                <span class="tag">&lt;auto-paging&gt;</span>false<span class="tag">&lt;/auto-paging&gt;</span>
                                                                <span class="tag">&lt;query-support&gt;</span>false<span class="tag">&lt;/query-support&gt;</span>
                                                <span class="tag">&lt;/properties&gt;</span>
                                                <span class="tag">&lt;attributes&gt;</span>
                                                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Query</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Query</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/attribute&gt;</span>
                                                <span class="tag">&lt;/attributes&gt;</span>
                                <span class="tag">&lt;/processor&gt;</span>
                <span class="tag">&lt;/message-processors&gt;</span>
<span class="tag">&lt;/connector&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The generated file have 3 principal parts:</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_interop_testdata_file_parts">Interop testdata file parts</h5>
<div class="sect5">
<h6 id="_properties">Properties</h6>
<div class="paragraph">
<p>Are the features supported by the connector.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>connectivity-support</strong>: [true/false]</p>
</li>
<li>
<p><strong>OAuth-authentication</strong>: [true/false]</p>
</li>
<li>
<p><strong>metadata</strong>: [static/dynamic]</p>
</li>
<li>
<p><strong>datasense-enabled</strong>: [true/false]</p>
</li>
<li>
<p><strong>transformer</strong>: [true/false]</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
                <span class="tag">&lt;connectivity-support&gt;</span>true<span class="tag">&lt;/connectivity-support&gt;</span>
                <span class="tag">&lt;OAuth-authentication&gt;</span>false<span class="tag">&lt;/OAuth-authentication&gt;</span>
                <span class="tag">&lt;metadata&gt;</span>dynamic<span class="tag">&lt;/metadata&gt;</span>
                <span class="tag">&lt;datasense-enabled&gt;</span>true<span class="tag">&lt;/datasense-enabled&gt;</span>
                <span class="tag">&lt;transformer&gt;</span>false<span class="tag">&lt;/transformer&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_global_config">Global-config</h6>
<div class="paragraph">
<p>Is the list of the configurations of the connector, each configuration describes the all needed attributes and their values</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">connection-management-config</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;attributes&gt;</span>
                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Username</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Connection</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefix</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>MyUsernameValue<span class="tag">&lt;/attribute&gt;</span>
                <span class="tag">&lt;/attributes&gt;</span>
<span class="tag">&lt;/config&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_message_processors">Message-processors</h6>
<div class="paragraph">
<p>Is the list of message processors defined in the connector. Each one describes their attributes, and Input &amp; Output types:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;message-processors&gt;</span>
                                <span class="tag">&lt;processor</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myProcessor</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">my-processor</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">My processor</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                                                <span class="tag">&lt;properties&gt;</span>
                                                                <span class="tag">&lt;datamapper</span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">output</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                                                                <span class="tag">&lt;auto-paging&gt;</span>false<span class="tag">&lt;/auto-paging&gt;</span>
                                                                <span class="tag">&lt;query-support&gt;</span>false<span class="tag">&lt;/query-support&gt;</span>
                                                <span class="tag">&lt;/properties&gt;</span>
                                                <span class="tag">&lt;attributes&gt;</span>
                                                                <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">General</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>content<span class="tag">&lt;/attribute&gt;</span>
                                                <span class="tag">&lt;/attributes&gt;</span>
                                <span class="tag">&lt;/processor&gt;</span>
<span class="tag">&lt;/message-processors&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_step_3_customizing_test_data_files">Step 3: Customizing Test Data Files</h5>
<div class="paragraph">
<p>After the testData and testData-override files are created (details about this files in Appendix), the next step is to populate the content from your domain model. This implies the completion of valid inputs for the operations and configurations, and the validation of the retrieved data.</p>
</div>
<div class="sect5">
<h6 id="_attention_points">Attention Points</h6>
<div class="ulist">
<ul>
<li>
<p>Properties detected must be checked and asserted:</p>
<div class="ulist">
<ul>
<li>
<p>The fact that the connector has connectivity support must be validated. If your connector does not support connectivity, but it was detected as a supported feature, you’ll have to double check your code.</p>
</li>
<li>
<p>If the connector has OAuth support, then connectivity detection must be false.</p>
</li>
<li>
<p>If the connector has OAuth support, then metadata detection should not be dynamic.</p>
</li>
<li>
<p>For each processor, <em>query-support</em> and <em>auto-paging</em> properties should be coherent with the expected values.</p>
</li>
<li>
<p>Required fields, both in the config and in the processors should be coherent with the expected values declared in the processor declaration. Those annotated with @Optional should be <em>optional</em>, everything else should be <em>required</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Datamapper input/output fields:</p>
<div class="ulist">
<ul>
<li>
<p>Datamapper Input and Output attributes in each processor represent the values you expect to see at design time when you drop the connector before and after a datamapper element. This values should be empty only if you expect to see nothing in DataMapper.</p>
</li>
<li>
<p>In a dynamic metadata case, the value of input/output attributes will be bound to the value with which the operation is feeded.
For example, with dynamic metadata, if you have:</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
        <span class="tag">&lt;datamapper</span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">SaveResult</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="attribute-name">output</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">Map</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/properties&gt;</span>
<span class="tag">&lt;attributes&gt;</span>
        <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sObject Type</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Information</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">type-chooser</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;/attribute&gt;</span>
<span class="tag">&lt;/attributes&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The output value is bounded to the value declared in the type chooser as follows:</p>
</div>
<div class="paragraph">
<p><strong>Case Account</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
        <span class="tag">&lt;datamapper</span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">SaveResult</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="attribute-name">output</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">Account</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/properties&gt;</span>
<span class="tag">&lt;attributes&gt;</span>
        <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sObject Type</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Information</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">type-chooser</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> Account (Account)
        <span class="tag">&lt;/attribute&gt;</span>
<span class="tag">&lt;/attributes&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Case Contact</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
        <span class="tag">&lt;datamapper</span> <span class="attribute-name">input</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">SaveResult</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="attribute-name">output</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">List</span><span class="entity">&amp;lt;</span><span class="content">Contact</span><span class="entity">&amp;gt;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/properties&gt;</span>
<span class="tag">&lt;attributes&gt;</span>
        <span class="tag">&lt;attribute</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">caption</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sObject Type</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Information</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">type-chooser</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">javaType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java.lang.String</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> Contact (Contact)
        <span class="tag">&lt;/attribute&gt;</span>
<span class="tag">&lt;/attributes&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If metadata model is static, then the expected value should be the initial one, with <em>“List&lt;Map&gt;”</em> as the output value.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_step_4_run_interop_tests">Step 4: Run Interop Tests</h5>
<div class="paragraph">
<p>In Studio, right-click the project and click <strong>Anypoint Connector *&gt;</strong> Run Interop Tests*:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/test-plugin-3.png" alt="test plugin 3">
</div>
</div>
<div class="paragraph">
<p>The Interop Remote Runner Properties menu shows the existing testData files that were created previously, and a set of options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tests to run:  Select which kind of test to run on your connector.</p>
<div class="ulist">
<ul>
<li>
<p>Connectivity</p>
</li>
<li>
<p>Data Mapper</p>
</li>
<li>
<p>Xml Generation</p>
</li>
<li>
<p>DataSense testing</p>
</li>
<li>
<p>OAuth Static DataSense</p>
</li>
</ul>
</div>
</li>
<li>
<p>Verbose Mode</p>
<div class="ulist">
<ul>
<li>
<p>Enables debugging logs on the test runs</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/test-plugin-4.png" alt="test plugin 4">
</div>
</div>
<div class="paragraph">
<p>The results appear in target/surefire-reports, and provide jUnit results using the XML result file.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="oauth-authentication">5.2. OAuth Authentication</h3>
<div class="sect3">
<h4 id="_oauth_global_configuration_element">5.2.1. OAuth - Global Configuration Element</h4>
<div class="sect4">
<h5 id="_preconditions">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Create and open a Mule Project using your connector.</p>
</li>
<li>
<p>Make connector code available to review configurations.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In Anypoint Studio, search for and place an <strong>HTTP</strong> connector on the canvas</p>
</li>
<li>
<p>Drop the desired connector inside the flow.</p>
</li>
<li>
<p>Select the connector and click the Connector Configuration green plus symbol Edit button.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

 * Connector class attributes marked as @Configurable display.
 * The consumerKey and consumerSecret are annotated with @OAuthConsumerKey and @OAuthConsumerSecret.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Enter valid access credentials and save.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Create and save global configuration element.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_project_arrangement_and_configuration_verification">5.2.2. OAuth - Project Arrangement and Configuration Verification</h4>
<div class="paragraph">
<p>Build this test case to serve as the basis for the next set of test cases.</p>
</div>
<div class="sect4">
<h5 id="_preconditions_2">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global element was already created for the connector and valid OAuth credentials (consumerKey, consumerSecret, and callback URL) have been entered.</p>
</li>
<li>
<p>Make connector code available to review configurations.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_2">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow in the following way:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Place two consecutive connectors in the flow.</p>
</li>
<li>
<p>Place a <strong>Logger</strong> after the last connector.</p>
</li>
<li>
<p>Add a <strong>Set Payload</strong> element after the logger.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Flow arrangement looks similar to this:</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-1.png" alt="qa guidelines 1">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Step 2:</strong> In the <strong>HTTP</strong> connector configuration, set the path value to <strong>authorize</strong>.</p>
</li>
<li>
<p><strong>Step 3:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the first connector.</p>
</li>
<li>
<p>Look for the Authorize operation.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Authorize operation is found.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the Authorize operation.</p>
</li>
<li>
<p>Check the General section.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Input fields are found for:
* State (only for OAuth2)
* Access Token URL
* Authorization URL</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Look for the authorizationParameters inside the OAuth annotation.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Each of the annotations on authorizationParameters are reflected in the Additional Authorization Parameters section. If none, the section is not displayed at all.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 6:</strong> In case of OAuth2m set a state value of testState. Click <strong>Save</strong></p>
</li>
<li>
<p><strong>Step 7:</strong> On the second connector, select any operation (besides Authorize and Unauthorize) and configure it. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 8:</strong> Set Operation payload is #[message.payload] as the <strong>Logger</strong> message value. Then click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 9:</strong> Arrange a flow in the following way:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop a connector in the flow.</p>
</li>
<li>
<p>Drop a <strong>Logger</strong> after the last connector.</p>
</li>
<li>
<p>Finally, add a <strong>Set Payload</strong> element after the logger.</p>
<div class="literalblock">
<div class="content">
<pre>Expected Result:
Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-2.png" alt="qa guidelines 2">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 10:</strong> On the <strong>HTTP</strong> connector, set a path value of anoperation.</p>
</li>
<li>
<p><strong>Step 11:</strong> On the connector, select any operation (besides Authorize and Unauthorize) and configure it. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 12:</strong> Set Operation payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 13:</strong> Arrange a flow in the following way:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop a connector in the flow.</p>
</li>
<li>
<p>Drop a <strong>Logger</strong> after the last connector.</p>
</li>
<li>
<p>Finally, add a <strong>Set Payload</strong> element after the
logger.</p>
<div class="literalblock">
<div class="content">
<pre>Expected Result:
Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-3.png" alt="qa guidelines 3">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 14:</strong> On the connector, look for the Unauthorize operation.</p>
<div class="literalblock">
<div class="content">
<pre>Expected Result:
Unauthorize operation is found.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 15:</strong> Select the Unauthorize operation. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 16:</strong> Set Done. on all <strong>Set Payload</strong> elements Values. Click <strong>Save</strong>.</p>
<div class="literalblock">
<div class="content">
<pre>Expected Result:
Example of the project flows:</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">authorize</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">authorize</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">authorize</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;sfdc:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">display</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">POPUP</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Authorize</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

    <span class="comment">&lt;!-- &lt;sfdc:authorize config-ref=&quot;Salesforce__OAuth_&quot; display=&quot;POPUP&quot;
    doc:name=&quot;Authorize&quot;/&gt; --&gt;</span>

    <span class="tag">&lt;sfdc:get-user-info</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Get user info</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
    <span class="tag">&lt;/sfdc:get-user-info&gt;</span>

    <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Logger</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">aConnectorOperation</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">aConnectorOperation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">anoperation</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;sfdc:describe-global</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Describe global</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Logger</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span>


<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unauthorize</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unauthorize</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">unauthorize</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;sfdc:unauthorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Unauthorize</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
 <span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_authorized_connector_requests">5.2.3. OAuth - Authorized Connector Requests</h4>
<div class="sect4">
<h5 id="_preconditions_3">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global element was already created for the connector and valid OAuth credentials (consumerKey, consumerSecret and callback URL) have been entered.</p>
</li>
<li>
<p>OAuth ­ Project arrangement and configuration verifications test case was completed successfully</p>
</li>
<li>
<p>Connector code is available to review configurations.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_3">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run the app and hit the authorize endpoint.</p>
</li>
<li>
<p>Complete the OAuth dance.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
* Redirects to the authorization URL of the service provider, which occurs according to authorizationParameters.
* Access is granted.
* Callback URL is shown in the browser address bar.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong>
Check the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operation payload is logged.

This implies that the logic contained in the @OAuthPostAuthorization to establish connections to make requests was executed.
Check the State parameter</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the anoperation endpoint.</p>
</li>
<li>
<p>Check the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operation payload is logged.

This implies that Mule included the access token (contained within the parameters annotated with @OAuthAccessToken) in the request to the service provider.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 4:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the unauthorize endpoint.</p>
</li>
<li>
<p>Check the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
OAuth session is killed.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_unauthorize_connector_requests">5.2.4. OAuth - Unauthorize Connector Requests</h4>
<div class="sect4">
<h5 id="_preconditions_4">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global element was already created for the connector and valid OAuth credentials (consumerKey, consumerSecret and callback URL) have been entered.</p>
</li>
<li>
<p>OAuth ­Project arrangement and configuration verifications test case was completed successfully</p>
</li>
<li>
<p>Connector code is available to review configurations.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_4">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Run the app and hit the anoperation endpoint.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
The consumer operation throws a NotAuthorizedException.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the authorize endpoint.</p>
</li>
<li>
<p>Complete the OAuth dance.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operation payload is logged.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the unauthorize endpoint.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
OAuth session is killed.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the anoperation endpoint.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
The consumer operation throws a NotAuthorizedException.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the unauthorize endpoint.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Flow is run. No exception is thrown.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_access_token_expiration">5.2.5. OAuth - Access Token Expiration</h4>
<div class="sect4">
<h5 id="_preconditions_5">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global element was already created for the connector and valid OAuth credentials (consumerKey, consumerSecret and callback URL) have been entered.</p>
</li>
<li>
<p>OAuth ­ Project arrangement and configuration verifications test case completed successfully.</p>
</li>
<li>
<p>Connector code is available to review configurations.</p>
</li>
<li>
<p>Regular expression for the expirationRegex parameter was specified on the OAuth2 annotation.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_5">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the authorize endpoint.</p>
</li>
<li>
<p>Complete the OAuth dance.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operation payload is logged.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Meet access token expiration criteria.</p>
</li>
<li>
<p><strong>Step 3:</strong> Hit the anoperation endpoint.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Expiration is detected and OAuth dance is triggered.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Complete the OAuth dance.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operation payload is logged.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_operation_not_supported_due_to_scope_parameter">5.2.6. OAuth - Operation Not Supported Due to Scope Parameter</h4>
<div class="sect4">
<h5 id="_preconditions_6">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global element was already created for the connector and valid OAuth credentials (consumerKey, consumerSecret and callback URL) have been entered.</p>
</li>
<li>
<p>OAuth ­ Project arrangement and configuration verifications test case was completed successfully.</p>
</li>
<li>
<p>Connector code is available to review configurations.</p>
</li>
<li>
<p>Connector declares a @OAuthScope attribute.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_6">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Open the Global Configuration element of the Connector and set a valid Scope value that&#8217;s not supported by the operation on the authorize flow.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Scope value is overridden.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run the app and hit the authorize endpoint.</p>
</li>
<li>
<p>Complete the OAuth dance.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
* Redirects to the authorization URL of the service provider that occurs according to authorizationParameters
* Access is granted.
* Callback URL is shown in the browser
address bar.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Check the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
No permission to access resource error displays.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Hit the unauthorize endpoint.</p>
</li>
<li>
<p>Check the console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
OAuth session is killed.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_anypoint_studio_interoperability_testing">5.3. Anypoint Studio Interoperability Testing</h3>

</div>
<div class="sect2">
<h3 id="_anypoint_studio_installation">5.4. Anypoint Studio Installation</h3>
<div class="sect3">
<h4 id="_anypoint_studio_installation_wizard">5.4.1. Anypoint Studio - Installation Wizard</h4>
<div class="sect4">
<h5 id="_preconditions_7">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Anypoint Studio is installed on the local machine.</p>
</li>
<li>
<p>Connector already available on the update site.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_7">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> In Anypoint Studio click <strong>Help &gt; Install New Software</strong></p>
</li>
<li>
<p><strong>Step 2:</strong> From the <strong>Work with</strong> dropdown select <strong>Anypoint Studio Connectors Update Site</strong></p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Connector categories are listed.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Search for the &lt;connectorName&gt;.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Connector matching criteria displays. Format should be:
&lt;connectorCategory&gt;
Mule &lt;connectorName&gt; Connector (Mule 3.5+)
Mule &lt;connectorName&gt; Connector Anypoint Studio Extension
Refer to screenshot.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-4.png" alt="qa guidelines 4">
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> Click the connector.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Details text area updates to display connector information.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong>: Check the connector version and click <strong>Next</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Install Details step displays.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 6:</strong> Click Next.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Review Licenses step displays. The license text content loads and applies to the connector category.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Click Finish.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Installation starts. No unsigned content warning is displayed during installation.
Anypoint Studio is restarted after installation.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-5.png" alt="qa guidelines 5">
</div>
</div>
</li>
<li>
<p><strong>Step 8:</strong> After Anypoint Studio finishes loading, search for &lt;connectorName&gt;.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Connector displays under the Connectors category.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_anypoint_studio_icons">5.4.2. Anypoint Studio - Icons</h4>
<div class="sect4">
<h5 id="_preconditions_8">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Anypoint Studio is installed on the local machine.</p>
</li>
<li>
<p>Connector already installed.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_8">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Search for the &lt;connectorName&gt;.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Icon displays on the Palette, which relates to the service the connector connects to.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Drop a Flow element on the canvas. Afterwards select the connector from the Palette and place it within the Flow.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Icon displays and relates to the service the connector connects to.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> If MessageSources are supported by the connector drag the connector from the Palette to the Canvas.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Message Source icon for the connector displays.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_extensions">5.5. Multiple Extensions</h3>
<div class="sect3">
<h4 id="_anypoint_studio_multiple_extensions_installed_3_5_x_server_runtime">5.5.1. Anypoint Studio - Multiple Extensions Installed - 3.5.x Server Runtime</h4>
<div class="sect4">
<h5 id="_preconditions_9">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Anypoint Studio is installed on the local machine.</p>
</li>
<li>
<p>3.5.0 runtime project was created.</p>
</li>
<li>
<p>3.5.0 and 3.4.x version of the connector are already installed.</p>
</li>
<li>
<p><strong>Step 1:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Search for the &lt;connectorName&gt;.</p>
</li>
<li>
<p>Drop a Flow element on the canvas.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Drag the connector from the Palette and place it within the Flow.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Select a version ... dialog appears.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Click <strong>Use newest</strong></p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
* Connector is added to the canvas.
* Connector related library is added to project.
Version corresponds to the 3.5.0 connector.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-6.png" alt="qa guidelines 6">
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> Secondary click the connector and select remove libraries for project.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Library is removed from project.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Remove the connector from the canvas.</p>
</li>
<li>
<p>Drag the connector from the Palette and place it within the Flow.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Select a version ... dialog appears.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 6:</strong> Click Choose manually.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
* Connector is added to the canvas.
* Connector related library is added to project.
Version corresponds to the 3.5.x connector.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-7.png" alt="qa guidelines 7">
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong>￼ Secondary click the connector and select remove libraries for project.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Library is removed from the project.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 8:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Remove the connector from the canvas.</p>
</li>
<li>
<p>Drag the connector from the Palette and place it within the Flow.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Select a version ... dialog appears.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong> Click Choose manually.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
* Select extension version screen displays.
* For the 3.5.0 version, check that the library version matches the one previously displayed.
* For the 3.4.x version, schema version displays.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-8.png" alt="qa guidelines 8">
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong> Randomly select one of options and click <strong>OK</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Connector is added to the canvas. Check that the library version matches the one previously displayed for that version.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_global_element_properties">5.6. Global Element Properties</h3>
<div class="sect3">
<h4 id="_global_element_properties_basic_authentication_connectors_hidden_password_text">5.6.1. Global Element Properties - Basic Authentication Connectors - Hidden Password Text</h4>
<div class="sect4">
<h5 id="_steps_9">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Open Global Element.</p>
</li>
<li>
<p><strong>Step 2:</strong> Populate password field.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Password field’s text is hidden by default.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connectivity">5.7. Connectivity</h3>
<div class="paragraph">
<p>This is part of connection management.</p>
</div>
<div class="sect3">
<h4 id="_oauth_connectors">5.7.1. OAuth Connectors</h4>
<div class="sect4">
<h5 id="_connectivity_oauth_connectors_test_connectivity_button_not_available">Connectivity - OAuth Connectors - Test Connectivity Button Not Available</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connectivity &#8230;&#8203; button is not available.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_non_oauth_connectors">5.7.2. Non-OAuth connectors</h4>
<div class="paragraph">
<p>For the following tests, the connector has connectivity.</p>
</div>
<div class="sect4">
<h5 id="_connectivity_non_oauth_connectors_positive_string_values">Connectivity - Non-OAuth Connectors - Positive - String Values</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connectivity &#8230;&#8203; button is available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate all Connection mandatory fields with valid credentials and click the <strong>Test connectivity</strong> button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connection successful is returned.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_connectivity_non_oauth_connectors_positive_placeholders_as_credentials">Connectivity - Non-OAuth Connectors - Positive - Placeholders as Credentials</h5>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>mule.properties file contains properties values that are under <em>src/main/resources</em>.</p>
</li>
<li>
<p>Property placeholder element referencing <em>mule.properties</em> was created.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connectivity &#8230;&#8203; button is available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate all Connection mandatory fields with property placeholders and click the <strong>Test connectivity</strong> button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connection successful is returned.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_connectivity_non_oauth_connectors_negative_invalid_credentials">Connectivity - Non-OAuth Connectors - Negative - Invalid Credentials</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connectivity &#8230;&#8203; button is available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">One at the time, enter an invalid value on each of the Connection mandatory fields and click the <strong>Test connectivity</strong> button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connection failed is returned. org.mule.api.ConnectionException is raised stating a useful error message to the user.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_connectivity_non_oauth_connectors_negative_empty_fields">Connectivity - Non-OAuth Connectors - Negative - Empty Fields</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connectivity &#8230;&#8203; button is available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">One at the time, leave empty the value of one of the Connection mandatory fields and click the <strong>Test connectivity</strong> button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Test connection failed is returned. org.mule.api.ConnectionException is raised stating a useful error message to the user.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metadata">5.8. Metadata</h3>
<div class="sect3">
<h4 id="_dynamic_metadata">5.8.1. Dynamic Metadata</h4>
<div class="paragraph">
<p>Supported by Non­OAuth connectors.</p>
</div>
<div class="sect4">
<h5 id="_dynamic_metadata_enable_datasense_positive_string_values">Dynamic Metadata - Enable DataSense - Positive - String Values</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Enable DataSense checkbox displays and is checked by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate all Connection mandatory fields with valid credentials and click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata types finishes successfully and configuration is saved.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_dynamic_metadata_enable_datasense_positive_placeholders_as_credentials">Dynamic Metadata - Enable DataSense - Positive - Placeholders as Credentials</h5>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>mule.properties file contains properties values that are under src/main/resources.</p>
</li>
<li>
<p>Property placeholder element referencing mule.properties was created.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Enable DataSense checkbox displays and is checked by default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate all Connection mandatory fields with property placeholders and click the <strong>Test connectivity</strong> button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata types finishes successfully and configuration is saved.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Run the following set of test cases at operation level. For each of the connector operations, evaluate which set of the following test cases applies. Also, take into account that more than one attribute of an operation supports this configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Enable DataSense checkbox displays and is checked by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate all Connection mandatory fields with property placeholders and click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata types doesn&#8217;t display and the configuration is saved.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_dynamic_metadata_enable_datasense_positive_disable_datasense">Dynamic Metadata - Enable DataSense - Positive - Disable DataSense</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open <strong>Global Configuration element</strong>.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><strong>Enable DataSense</strong> checkbox displays and is checked by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate all <strong>Connection</strong> mandatory fields with valid credentials.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Uncheck Enable DataSense checkbox.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata types doesn&#8217;t display and the configuration is saved.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_dynamic_metadata_enable_datasense_negative_invalid_credentials">Dynamic Metadata - Enable DataSense - Negative - Invalid Credentials</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Enable DataSense checkbox displays and is checked by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">One at the time, leave empty the value of one of the Connection mandatory fields and click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata types fails. org.mule.api.ConnectionException is raised stating a useful error message to the user.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <a href="http://mulesoft.github.io/marketo-connector/mule/marketo-config.html#sync-lead">sync­lead operation of the Marketo connector</a> is used to demonstrate.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dynamic_metadata_xml_generation_custom_entities_and_fields_object_attributes_defined_through_the_object_builder">Dynamic Metadata - XML Generation - Custom Entities and Fields - Object Attributes Defined Through the Object Builder</h5>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>On the connector, Global Configuration DataSense is enabled and DataSense metadata types were fetched successfully.</p>
</li>
<li>
<p>In the Anypoint Studio canvas, place a connector building block inside a flow.</p>
</li>
<li>
<p>Connector was selected.</p>
</li>
<li>
<p>Operation under test consumes an entity for which a custom entity or custom fields on an entity were defined on the service.</p>
</li>
<li>
<p>No DataSense metadata was fetched for the operation under test.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">On the General tab select the corresponding Config reference.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Select the operation.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Select an Object type (if not already defined by default by the operation) that&#8217;s custom or has a custom field.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">List of Object types display based on the retrieved metadata from the service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">For the child elements, select the Create Objects manually option and click the &#8230;&#8203; (browse) button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata &#8230;&#8203; popup displays. Object builder displays Objects fields. Defined custom field displays among them.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate the desired object fields and click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Save and change to the <strong>Configuration XML</strong> view.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Operation configuration is reflected on the XML. Example XML:
----
&lt;marketo:sync-lead config-ref="Marketo" doc:name="Marketo"&gt;
&lt;marketo:lead-record &gt;
&lt;marketo:lead-record key="City"&gt;#[flowVars['City']]&lt;/marketo:lead-r ecord&gt;
&lt;marketo:lead-record key="AnnualRevenue"&gt;#[flowVars['AnnualRevenue' ]]&lt;/marketo:lead-record&gt;
&lt;marketo:lead-record key="Department"&gt;#[flowVars['Department']]&lt;/ma rketo:lead-record&gt;
&lt;marketo:lead-record key="Company"&gt;#[flowVars['Company']]&lt;/marketo: lead-record&gt;
&lt;/marketo:lead-record&gt; &lt;/marketo:sync-lead&gt;
----</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_static_metadata">5.8.2. Static Metadata</h4>
<div class="paragraph">
<p>In case of static metadata, Anypoint Studio retrieves the POJO, List&lt;POJO&gt;, or Map&lt;String,POJO&gt;attribute from the connector code.</p>
</div>
<div class="paragraph">
<p>OAuth connectors with static metadata support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Salesforce (Non­OAuth)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_static_metadata_non_datasense_enabled">Static Metadata - Non DataSense-Enabled</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Open Global Configuration element.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Enable DataSense checkbox is not displayed.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Run the following set of test cases at operation level. For each of the connector operations, evaluate which set of the following test cases applies. Also, take into account that more than one attribute of an operation supports this configuration.</p>
</div>
</div>
<div class="sect4">
<h5 id="_static_metadata_xml_generation_object_attributes_defined_through_the_object_builder">Static Metadata - XML Generation - Object Attributes Defined Through the Object Builder</h5>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>On the connector Global Configuration, DataSense metadata types were fetched successfully.</p>
</li>
<li>
<p>In the Anypoint Studio canvas, a connector building block was placed inside a flow.</p>
</li>
<li>
<p>Connector is selected.</p>
</li>
<li>
<p>No DataSense metadata was fetched for the operation under test.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">On the General tab, select the corresponding Config reference.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Select the operation.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Randomly select an Object type (if not already defined by default by the operation).</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Object types are based on the metadata retrieved from the connector.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">For the child elements, select the Create Objects manually option and click the &#8230;&#8203; (browse) button.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata &#8230;&#8203; popup displays. Object builder displays Objects fields.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Populate the desired object fields and click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Save and change to the Configuration XML view.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Operation configuration is reflected on the XML.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_metadata_xml_generation">5.8.3. Metadata / XML Generation</h4>
<div class="sect4">
<h5 id="_metadata_xml_generation_non_oauth_positive_object_attributes_not_defined">Metadata - XML Generation - Non-OAuth - Positive - Object Attributes Not Defined</h5>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Non­OAuth connectors that support dynamic metadata, on the connector Global Configuration DataSense was enabled and DataSense metadata types were fetched successfully.</p>
</li>
<li>
<p>In the Anypoint Studio canvas, a connector building block was placed inside of a flow.</p>
</li>
<li>
<p>Connector was selected.</p>
</li>
<li>
<p>No DataSense metadata was fetched for the operation under test yet.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">On the General tab select the corresponding Config reference.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Select the operation.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Randomly select an Object type (if not already defined by default by the operation).</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">As child elements, select the None option.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Save</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Save and change to the Configuration XML view.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata &#8230;&#8203; popup displays.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_metadata_xml_generation_non_oauth_positive_object_attributes_passed_by_reference">Metadata - XML Generation - Non-OAuth - Positive - Object Attributes Passed by Reference</h5>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Non­OAuth connectors that support dynamic metadata, on the connector Global Configuration, DataSense was enabled and DataSense metadata types were fetched successfully.</p>
</li>
<li>
<p>In the Anypoint Studio canvas, a connector building block was placed inside a flow.</p>
</li>
<li>
<p>Connector was selected.</p>
</li>
<li>
<p>No DataSense metadata was fetched for the operation under test.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Step</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Expected Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">On the General tab select the corresponding Config reference.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Select the operation.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Randomly select an Object type (if not already defined by default by the operation).</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">For the child elements, select the From Message option and enter #[flowVars['objectRef']]as the value.</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Save.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Getting DataSense metadata &#8230;&#8203; popup displays.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Change to the Configuration XML view.</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Operation configuration is reflected on the XML. Example XML above</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;code&gt;</span>
    <span class="tag">&lt;marketo:sync-lead</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Marketo</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Marketo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;marketo:lead-record</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[flowVars['leadRecordRef']]</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/marketo:sync-lead&gt;</span>
<span class="tag">&lt;/code&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_no_metadata">No Metadata</h5>
<div class="paragraph">
<p>This is defined by the argument types and return types of the API. If all of them are either primitive types or of type InputStream, the connector falls in the No metadata category.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xml_generation">5.9. XML Generation</h3>
<div class="sect3">
<h4 id="_xml_generation_pojo_by_reference_or_expression_or_define_attributes">5.9.1. XML Generation - POJO by ‘Reference or expression’ or ‘Define attributes’</h4>
<div class="sect4">
<h5 id="_steps_10">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> On the General tab select the corresponding Config reference.</p>
</li>
<li>
<p><strong>Step 2:</strong> Select the operation.</p>
</li>
<li>
<p><strong>Step 3:</strong> For the POJO no option is available by default.</p>
</li>
<li>
<p><strong>Step 4:</strong> Select the Reference or expression option and enter <code>#[flowVars[‘ref’]]`</code> as the value.</p>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-9.png" alt="qa guidelines 9">
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong>
Save and change to the Configuration XML view.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result: XML for the operation was generated using the ref attribute.
Example XML:</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;sfdc:batch-info</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
<span class="tag">&lt;sfdc:batch-info</span> <span class="attribute-name">ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[flowVars['batchInfoRef']]</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <span class="tag">&lt;/sfdc:batch-info&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 6:</strong> Return to the Message Flow view, click the connector.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Same operation is selected, Reference or expression is selected for the POJO and the value was stored.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong>
￼For the same POJO select the Define attributes option and enter <code>#[flowVars[‘pojoAttribute’]]</code> for the Id and Job Id values.
Example:</p>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-10.png" alt="qa guidelines 10">
</div>
</div>
</li>
<li>
<p><strong>Step 8:</strong> Save and change to the Configuration XML view.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Expected Result:
XML for the operation was generated defining each of the POJO attributes.
Example XML:
<span class="tag">&lt;sfdc:batch-info</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
<span class="tag">&lt;sfdc:batch-info</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[flowVars['id']]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">jobId</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[flowVars['jobId']]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">state</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Completed</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/sfdc:batch-info&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong>  Return to the Message Flow view, click the connector.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Same operation is selected, Define attributes is selected for the POJO and the attributes values were stored.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_xml_generation_attribute_names_consistency">5.9.2. XML Generation - Attribute Names Consistency</h4>
<div class="paragraph">
<p>Operations attributes names should be the same as the ones from the API, but in case, this rule introduces inconsistencies among operations; then the parameter name should be corrected in the connector. As an example:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Library/API method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expected result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.eclipse.egit.github.core.<br>
service.GistService.del eteGist(String gistId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@Processor<br>
public void deleteGist(String gistId) throws IOException {<br>
&#8230;&#8203; }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.eclipse.egit.github.core.<br>
service.GistService.get Gist(String id)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@Processor<br>
public Gist getGist(String gistId) throws IOException {<br>
&#8230;&#8203; }</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_xml_generation_attribute_order">5.9.3. XML Generation - Attribute Order</h4>
<div class="paragraph">
<p>Order of operation attributes should be the same as in the API. Attributes generated in the wrong order cause errors in the XML at runtime.</p>
</div>
</div>
<div class="sect3">
<h4 id="_xml_generation_required_attribute_value_not_defined">5.9.4. XML generation - Required Attribute Value not Defined</h4>
<div class="sect4">
<h5 id="_preconditions_10">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Applies to operations directly exposing fields (with no default value) on the Mule Properties View.</p>
</li>
<li>
<p>In the Anypoint Studio canvas a connector building block was placed inside of a flow.</p>
</li>
<li>
<p>Connector is selected.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_11">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> On the General tab select the corresponding Config reference.</p>
</li>
<li>
<p><strong>Step 2:</strong> Select the operation.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operation required attributes values display as missing.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-11.png" alt="qa guidelines 11">
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Look for the operation in the API docs.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Required attributes match with the ones marked as such in the Mule Properties View.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> Back in Anypoint Studio, change to the Problems tab.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
'Required attribute not defined' error is logged.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-12.png" alt="qa guidelines 12">
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_message_sources">5.9.5. Message Sources</h4>
<div class="paragraph">
<p>Methods annotated with @Source(). They are common for connectors to services with streaming APIs.</p>
</div>
<div class="sect4">
<h5 id="_preconditions_11">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Mule project was created and is open.</p>
</li>
<li>
<p>Global Configuration element is already created with valid credentials to the service.</p>
</li>
<li>
<p>Connector code is available to review configurations</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_12">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Pull the desired connector to the canvas.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Connector is created as endpoint to a flow.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-13.png" alt="qa guidelines 13">
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>Set Message Source received <code>#[message.payload]</code> as its Message.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the Global Configuration Element to the connector.</p>
</li>
<li>
<p>Check the available operations.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Operations on the dropdown match to methods marked as @Source on the connector code.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 4:</strong>  Select the Message Source under test and configure it appropriately.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Expected Result:

Example of a Mule flow:
<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SubscribeToTopic</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SubscribeToTopic</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;sfdc:subscribe-topic</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">topic</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/ContactsDemo</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Subscribe To newAccountMessages Topic</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;logger</span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">New account notification received: #[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Notification</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run the Mule app.</p>
</li>
<li>
<p>Check the Console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Initialization message is logged:
INFO 2014-01-1317:59:17,210[HttpClient-29] org.mule.modules.salesforce.SalesforceBayeuxClient: subscribing /topic/ContactsDemo for the first time</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 6:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Trigger the event the Message Source is expecting.</p>
</li>
<li>
<p>Check the Console.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Message Source response was logged.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_datamapper_compliance_2">5.10. DataMapper Compliance</h3>
<div class="paragraph">
<p>DataMapper automatic metadata population is defined by the message processor attributes’ annotations as well as the message processor&#8217;s return type.</p>
</div>
<div class="paragraph">
<p>In the case of POJO operation attributes, at least one of them must be marked as <code>@Optional</code>. <code>@Default("#[payload]")</code> causes data to be automatically picked up in DataMapper.</p>
</div>
<div class="paragraph">
<p>If custom fields can be defined for objects in the service domain, choose them for testing DataMapper compatibility.</p>
</div>
<div class="sect3">
<h4 id="_datamapper_compliance_dynamics_static_metadata_perceptive_flow_design">5.10.1. DataMapper Compliance - Dynamics/Static Metadata - Perceptive Flow Design</h4>
<div class="sect4">
<h5 id="_preconditions_12">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>In the connector code @Connect contains metaData == MetaDataSwitch.OFF</p>
</li>
<li>
<p>Flow contains a connector-datamapper-connector building block arrangement that is on the canvas.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_13">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Configure both connectors with the same operation.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata is fetched for both configurations.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Select the DataMapper building block.</p>
</li>
<li>
<p><strong>Step 3:</strong> Check the Input panel.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Expected <span class="predefined-type">Result</span>:
 Mule automatically prescribes the output of the operation <span class="keyword">for</span> any of the following <span class="keyword">return</span> types:
* <span class="predefined-type">Map</span>
* POJO
* <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt;
* <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;
* <span class="predefined-type">List</span>&lt;POJO&gt;
* <span class="predefined-type">List</span>&lt;<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;&gt;

Check that values match the operation signature.</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> Check the Output panel.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Expected <span class="predefined-type">Result</span>:
Mule automatically prescribes the input of the operation only <span class="keyword">for</span> an attribute of the following type:
* <span class="predefined-type">Map</span>
* POJO
* <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt;
* <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;
* <span class="predefined-type">List</span>&lt;POJO&gt;
* <span class="predefined-type">List</span>&lt;<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;&gt;

Check that it<span class="string"><span class="delimiter">'</span><span class="content">s marked as `@Default(&quot;#[payload]&quot;)` (for connectors older than 3.5.0-M4). The correct annotations should be `@Optional @Default(“#[payload]”)`</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong>  Check the operation attributes in the API docs.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
The attribute marked as `@Default("#[payload]")` (for connectors older than 3.5.0-M4). The correct annotations should be `@Optional @Default(“#[payload]”)` (aka PRIMARY argument) should be:
* An entity related to the service in case more than one applies.
* An entity that can't be created and is necessarily another operation return type (if applicable) .</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datamapper_compliance_generate_mapping_from_the_return_type">5.10.2. DataMapper Compliance - Generate Mapping From the Return Type</h4>
<div class="sect4">
<h5 id="_preconditions_13">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector­datamapper building block arrangement that is on the canvas.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure the connector with an operation returning POJO / List&lt;POJO&gt;, Map&lt;String,POJO&gt;, or List&lt;Map&lt;String, Object&gt;&gt;.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata is fetched for both configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the DataMapper building block.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check the Input panel.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values are pre­populated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the Output panel select Type XML.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click on the User Defined radio button.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click Generate default.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generate mapping using default XML schema</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relationship is established.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_datamapper_compliance_generate_mapping_to_operation_attribute">5.10.3. DataMapper Compliance - Generate Mapping to Operation Attribute</h4>
<div class="sect4">
<h5 id="_preconditions_14">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a datamapper­connector building block arrangement that is on the canvas.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure the connector with an operation that has either a POJO / List&lt;POJO&gt;, Map&lt;String,POJO&gt;, or List&lt;Map&lt;String, Object&gt;&gt; as its main argument.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata is fetched for both configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the DataMapper building block.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check the Output panel.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values were pre­populated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the Input panel select Type XML.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click on the User Defined radio button.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click Generate default.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generate mapping using default XML schema</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relationship is established.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_datamapper_compliance_override_metadata">5.10.4. DataMapper Compliance - Override Metadata</h4>
<div class="sect4">
<h5 id="_preconditions_15">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector­datamapper­connector building block arrangement that is on the canvas.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure both connectors with the same operation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata is fetched for both configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the DataMapper building block.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check the Input and Output panel.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values were pre­populated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The following steps are to be repeated for both the Output Panel and Input panel.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override the provided metadata by clicking Change Type.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the connector from the Connector dropdown.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make sure By Operation is selected and select the operation under test from the Operation dropdown.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click the Object dropdown.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operation return type is available in the dropdown.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_datamapper_compliance_dynamic_metadata_custom_entities_fields">5.10.5. DataMapper Compliance - Dynamic Metadata - Custom Entities/Fields</h4>
<div class="paragraph">
<p>This test case applies to connectors to services that support custom entities or custom fields in their entities.</p>
</div>
<div class="sect4">
<h5 id="_preconditions_16">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>On the Global Configuration, DataSense is enabled and DataSense metadata types were fetched.</p>
</li>
<li>
<p>Flow contains a connector­datamapper­connector building block arrangement that is on the canvas.</p>
</li>
<li>
<p>Operation either consumes or returns an entity for which a custom entity or custom fields on an entity were defined on the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_14">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Configure both connectors with the same operation. For type, select the custom entity under test or the entity for which custom fields were defined on the sandbox.
For example:</p>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-14.png" alt="qa guidelines 14">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata is fetched for both configurations.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Select the DataMapper building block.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Values were pre­populated and relate to the entity under test.</pre>
</div>
</div>
</li>
<li>
<p><strong>The following step is to be run for either the Output Panel/Input panel.</strong></p>
</li>
<li>
<p><strong>Step 3:</strong> Generate a mapping (use a default map on the counter panel if necessary).</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Relationship is established.
DataMapper displays the custom entity or the custom fields of the entity under test.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-15.png" alt="qa guidelines 15">
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datamapper_compliance_no_metadata_perceptive_flow_design">5.10.6. DataMapper Compliance - No Metadata - Perceptive Flow Design</h4>
<div class="sect4">
<h5 id="_preconditions_17">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>In the connector code @Connect contains metaData == MetaDataSwitch.OFF</p>
</li>
<li>
<p>Flow contains a connector­datamapper­connector building block arrangement that is on the canvas.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure both connectors with the same operation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata is fetched for both configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select the DataMapper building block.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check the Input panel.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No values display.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check the Output panel.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No values display.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_datasense_query_editor_dsql">5.11. DataSense Query Editor / DSQL</h3>
<div class="paragraph">
<p>Connectors QA scope limits to check if feature reflects connector specific configuration values.
As example use the Dynamics connector (MessageProcessor expects XML thus everything is overridden).</p>
</div>
<div class="sect3">
<h4 id="_datasense_query_editor_oauth_connector_only_nql_query_option_available">5.11.1. DataSense Query Editor - OAuth Connector - Only NQL Query Option Available</h4>
<div class="sect4">
<h5 id="_preconditions_18">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
<li>
<p><strong>Step 1:</strong> Select corresponding operation for message processor with attribute marked @Query.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

* For attribute marked @Query only Native Query Language option in dropdown displays.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-16.png" alt="qa guidelines 16">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>* Return type dropdown does not display.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datasense_query_editor_non_oauth_connector_dsql_and_nql_query_options_available">5.11.2. DataSense Query Editor - Non-OAuth Connector - DSQL and NQL Query Options Available</h4>
<div class="sect4">
<h5 id="_preconditions_19">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
<li>
<p><strong>Step 1:</strong> Select corresponding operation for message processor with attribute marked @Query.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
* For attribute marked @Query *Native Query Language* and *DataSense Query Language* option in dropdown displays.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-17.png" alt="qa guidelines 17">
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> Click the Query Builder &#8230;&#8203;</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Query Builder opens.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datasense_query_editor_non_oauth_connector_query_by_nql">5.11.3. DataSense Query Editor - Non-OAuth connector - Query by NQL</h4>
<div class="sect4">
<h5 id="_preconditions_20">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas, and its config­element is already set.</p>
</li>
<li>
<p>A DataMapper building block has been placed next to the connector building block.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select corresponding operation for message processor with attribute marked @Query.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For attribute marked @Query Native Query Language and DataSense Query Language options are displayed in the Language dropdown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select NQL as Language.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check that Return type dropdown displays.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make a Return type selection and then save.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click the DataMapper element.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DataMapper is prepopulated according to Return type option selection (List&lt;Return type&gt;).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_datasense_query_editor_non_oauth_connector_query_default_values">5.11.4. DataSense Query Editor - Non-OAuth Connector - @Query Default Values</h4>
<div class="sect4">
<h5 id="_preconditions_21">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
<li>
<p>No parameters are passed to the @Query annotation.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select corresponding operation for message processor with attribute marked @Query and click  <strong>Query Builder</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order By dropdown, Limit, and Offset fields are available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build a query that applies two filters and makes use of the Order By, Limit, and Offset values.
Click <strong>OK</strong>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Text is populated reflecting query values.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_datasense_query_editor_non_oauth_connector_query_builder_reflects_query_configuration">5.11.5. DataSense Query Editor - Non-OAuth Connector - Query Builder Reflects @Query Configuration</h4>
<div class="sect4">
<h5 id="_preconditions_22">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
<li>
<p>Parameters are passed to the @Query annotation.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select corresponding operation for message processor with attribute marked @Query and click  <strong>Query Builder</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order By dropdown, Limit, and Offset fields are available only if not passed as false to the annotation. Example:<br>
<code>@Query(limit == false, offset == false, orderBy == false)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build a query that applies two filters. Click OK.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Text is populated. OR or AND operator is displayed between filters depending on configuration. Example:
<code>@Query(disabledOperators == QueryOperator.OR)</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_datasense_query_editor_non_oauth_connector_query_builder_reflects_service_metadata_configuration">5.11.6. DataSense Query Editor - Non-OAuth connector - Query builder reflects service metadata configuration</h4>
<div class="paragraph">
<p><strong>@MetaDataKeyRetriever</strong> and <strong>@MetaDataRetriever</strong> annotated methods sets service specific configuration for Query Builder.
By default a Field "query configuration" (isWhereCapable, isSelectCapable, isOrderByCapable) are all true unless overridden by the service metadata.
Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// sObject isFromCapable (available in Types)</span>
<span class="comment">// public DefaultMetaDataKey(java.lang.String id, java.lang.String displayName, boolean isFromCapable);</span>
<span class="keyword">new</span> DefaultMetaDataKey(sobject.getName(), sobject.getLabel(), sobject.isQueryable())
<span class="comment">// sObject attribute available in Fields and appears on the Filter dropdown depending on the service.</span>
dynamicObject.addSimpleField(field.getName(), dataType).isWhereCapable(field.isFilterable());
<span class="comment">// sObject attribute available in Fields and appears on the Order By dropdown depending on the service.</span>
dynamicObject.addSimpleField(field.getName(), dataType).isOrderByCapable(f.isSortable());</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_23">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_15">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Select corresponding operation for message processor with attribute marked @Query and click <strong>Query Builder</strong></p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Query Builder opens.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 2:</strong> From service documentation derive equivalence classes such:</p>
<div class="ulist">
<ul>
<li>
<p>Types not from­capable.</p>
</li>
<li>
<p>Fields not filterable.</p>
</li>
<li>
<p>Fields not sortable.</p>
</li>
<li>
<p>Fields not selectable.</p>
</li>
<li>
<p>&#8230;&#8203;</p>
<div class="paragraph">
<p>Select a representative value for each class.</p>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Object Builder reflects values.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dsql_non_oauth_connector_query_translation">5.11.7. DSQL - Non-OAuth Connector - Query Translation</h4>
<div class="paragraph">
<p>Method annotated as @QueryTranslator contains logic to translate DSQL queries into NQL in case clauses or operators do not match those predefined by DSQL.<br>
Visitor classes (can be recognized by the extends DefaultQueryVisitor extends DefaultOperatorVisitor) that handle the mapping from a DSQL query into the service Native Query Language.<br>
SELECT, WHERE, OPERATORS and ORDERBY values can be overridden.</p>
</div>
<div class="sect4">
<h5 id="_preconditions_24">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select corresponding operation for message processor with attribute marked @Query and click   <strong>Query Builder</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Builder is displayed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build queries using query builder that make use of clauses and operators whose values are been overridden by the connector.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Text is populated in DSQL format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change from DSQL to NQL and check that the translation has been made correctly.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clauses and operators and correctly translated.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_dsql_non_oauth_connector_query_equivalence">5.11.8. DSQL - Non-OAuth Connector - Query Equivalence</h4>
<div class="sect4">
<h5 id="_preconditions_25">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Steps</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Expected result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select corresponding operation for message processor with attribute marked @Query and click  <strong>Query Builder</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Builder is displayed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build a query using query builder that make use of clauses and operators whose values are been overridden by the connector.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Text is populated in DSQL format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run the Mule application. Then Hit the endpoint to retrieve results.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take note of the query results</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop the application.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change from DSQL to NQL and check that the translation has been made correctly.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clauses and operators and correctly translated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run the Mule application. Then Hit the endpoint to retrieve results.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query results are the same than the ones on the DSQL query.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_auto_paging">5.12. Auto-Paging</h3>
<div class="paragraph">
<p>Connector supports Auto­Paging if a least one of its operations is annotated as @Paged and returns a PagingDelegate. The following test cases apply to Non­query, DSQL and NQL operations.</p>
</div>
<div class="sect3">
<h4 id="_auto_paging_fetch_size_parameter">5.12.1. Auto-Paging - Fetch Size Parameter</h4>
<div class="sect4">
<h5 id="_preconditions_26">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector building block that is on the canvas and its Global Configuration element was selected as Config Reference.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_16">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Paging section containing a Fetch Size input field is displayed in the General tab of the connector view.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-18.png" alt="qa guidelines 18">
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Fetch Size value is 100 by default.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Step 2:</strong> Enter a Fetch Size value other than 100. Save and change to the Configuration XML view.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Expected Result:

fetchSize attribute is on the operation XML.
<span class="tag">&lt;google-contacts:get-contacts</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google Contacts</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">fetchSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">30</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_empty_collection">5.12.2. Auto-Paging - Empty Collection</h4>

</div>
<div class="sect3">
<h4 id="__preconditions">5.12.3. ￼Preconditions</h4>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already crea</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_steps_17">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector place a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong> place a <strong>Logger</strong> element.</p>
</li>
<li>
<p>After the <strong>For Each</strong> place a <strong>Set Payload</strong> element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-19.png" alt="qa guidelines 19">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Set parameter values such as no records are returned by the operation.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata is fetched for the selected operation.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong> Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete flow result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-certFlow1</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-certFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">contacts</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;google-contacts:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Authorize</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;google-contacts:get-contacts</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Get contacts</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">updatedMax</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2000-09-29T18:46:19-0700</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">datetimeFormat</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">yyyy-MM-dd'T'HH:mm:ssZ</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

     <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
       <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element #[flowVars['counter']] payload is #[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Logger</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/foreach&gt;</span>

   <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SetPayload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Run the app and hit the flow endpoint. Check the console afterwards.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
org.mule.routing.Foreach$CollectionMapSplitter: Splitter returns no results. If this is not expected, check your split expression.
Logs to the console.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_abort_iteration">5.12.4. Auto-Paging - Abort Iteration</h4>
<div class="paragraph">
<p>Verify that after processing current element, iteration is terminated.</p>
</div>
<div class="sect4">
<h5 id="_preconditions_27">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element has been created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_18">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place the <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong> put a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong>, place a <strong>Logger</strong>, a DataMapper, and another <strong>Logger</strong>.</p>
</li>
<li>
<p>Following the <strong>For Each</strong>, place a <strong>Set Payload</strong> element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-20.png" alt="qa guidelines 20">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector select an operation whose return type is
PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Open Query Builder and generate a simple
query such as: SELECT CreatedById,CreatedDate,Description, OwnerId FROM Account LIMIT 3.</p>
</li>
<li>
<p>Set a fetchSize value of 1 or lower than the amount the amount of records been returned.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata fetches for the selected operation.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong>  Set <code># Total amount of elements retrieved is
#[message.payload.size()]</code> as the first
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong> Select the <strong>For Each</strong> and set rootMessage as its Root Message Variable Name. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 5:</strong> Set Closing the iterator: #[flowVars['rootMessage'].getPayload ().close()] as the message value for the first <strong>Logger</strong> within the <strong>For Each</strong>. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong>  On the DataMapper element, create a mapping to a Default <code>Map&lt;k,v&gt;</code> object.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mapping is created.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 8:</strong> Set Done. as the Set payload element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete result flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow1</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">apforeach</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

   <span class="tag">&lt;sfdc:query</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">query</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dsql:SELECT CreatedById,CreatedDate,Description,OwnerId FROM Account LIMIT 3</span><span class="delimiter">&quot;</span></span>
   <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Query</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">fetchSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">### Total amount of elements retrieved is #[payload.size()]</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Size</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
     <span class="tag">&lt;data-mapper:transform</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">account_to_map</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Account To Map</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
     <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element #[flowVars['counter']] payload is</span>
    <span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Records</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/foreach&gt;</span>

  <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 10:</strong>  Run the app and hit the flow endpoint.</p>
</li>
<li>
<p><strong>Step 11:</strong>  Look for the messages logged by the Records Logger on the console.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Only a message for the first record logs.</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_non_query_operations">5.13. Non-Query Operations</h3>
<div class="paragraph">
<p>As example, use Google Contacts connectors.</p>
</div>
<div class="sect3">
<h4 id="_auto_paging_non_query_operation_auto_paged_output_handling_datamapper">5.13.1. Auto-Paging - Non-Query Operation - Auto-Paged Output Handling - DataMapper</h4>
<div class="paragraph">
<p>PagingDelegate is typed thus it&#8217;s expected to work together with DataMapper.</p>
</div>
<div class="sect4">
<h5 id="__preconditions_2">￼Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_19">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-21.png" alt="qa guidelines 21">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong> On the connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;. Click <strong>Save</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata fetches for the selected operation.w</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong>
Click the DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mule automatically prescribes the output of the operation as List&lt;SomeEntity&gt;. The type is in the connector code, for example: `List&lt;GoogleContactEntry&gt;`
for an operation returns: `PagingDelegate&lt;GoogleContactEntry&gt;`</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> In the Output Panel select:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type: Map&lt;k,v&gt;</p>
</li>
<li>
<p>Click User Defined</p>
</li>
<li>
<p>Click Generate default</p>
</li>
<li>
<p>Click Create mapping</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mapping creates.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_non_query_operation_auto_paged_output_handling_foreach_combined_with_datamapper">5.13.2. Auto-Paging - Non-Query Operation - Auto-Paged Output Handling - Foreach Combined with DataMapper</h4>
<div class="sect4">
<h5 id="_preconditions_28">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_20">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong>, place a DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-22.png" alt="qa guidelines 22">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong> On the connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;. Click <strong>Save</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata fetches for the selected operation.w</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong>
Click the DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mule automatically prescribes the output of the operation as `SomeEntity`.
The type is in the connector code, for example: `GoogleContactEntry` for an operation returns: `PagingDelegate&lt;GoogleContactEntry&gt;`</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> In the Output Panel select:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type: Map&lt;k,v&gt;</p>
</li>
<li>
<p>Click User Defined</p>
</li>
<li>
<p>Click Generate default</p>
</li>
<li>
<p>Click Create mapping</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mapping creates.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_non_query_operation_pagination_is_applied">5.13.3. Auto-Paging - Non-Query Operation - Pagination is Applied</h4>
<div class="sect4">
<h5 id="_preconditions_29">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_21">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows::</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector place a <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong> put a For Each element.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong> place a DataMapper and then a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>After the <strong>For Each</strong> place a <strong>Set Payload</strong> element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result
Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-23.png" alt="qa guidelines 23">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Set a fetchSize value of 1 or lower than the amount of records that&#8217;s going to be retrieved.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata fetches for the selected operation.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Set ### Total amount of elements retrieved is
#[message.payload.size()] as the
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong> On the DataMapper element, create a mapping to a Default Map&lt;k,v&gt; object.
Mapping creates.</p>
</li>
<li>
<p><strong>Step 5:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong> Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-datamapper-complianceFlow3</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-datamapper-complianceFlow3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">foreachdm</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;google-contacts:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Authorize</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;google-contacts:get-groups</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Get groups</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">### Total amount of elements retrieved is</span>
  <span class="content">#[message.payload.size()]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Size</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;data-mapper:transform</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DataMapper</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
      <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element #[flowVars['counter']] payload is</span>
    <span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Records</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/foreach&gt;</span>

    <span class="tag">&lt;set-payload</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Run the app and hit the flow endpoint.</p>
</li>
<li>
<p><strong>Step 8:</strong> Look for the messages logged by the Records Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
For each record a +For element ... + message was logged displaying its payload.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong> Look for the message of the Size Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Amount of elements retrieved equals number of records returned.
Note: You can override the getTotalResults() method in the connector in case of service constraints.For this case, a value of ­1 is returns if the size can't be provided.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_non_query_operation_pagination_is_not_applied">5.13.4. Auto-Paging - Non-Query Operation - Pagination is Not Applied</h4>
<div class="sect4">
<h5 id="_preconditions_30">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_22">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows::</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong>, place a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong>, place a DataMapper and then a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>After the <strong>For Each</strong>, place a <strong>Set Payload</strong> element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-24.png" alt="qa guidelines 24">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Set a fetchSize higher than amount of existing records.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Metadata fetches for the selected operation.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong>  Set ### Total amount of elements retrieved is
#[message.payload.size()] as the
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong> On the DataMapper element, create a mapping to a Default Map&lt;k,v&gt; object.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mapping is created.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong>  Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-datamapper-complianceFlow3</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-datamapper-complianceFlow3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">foreachdm</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;google-contacts:authorize</span>
  <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Authorize</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;google-contacts:get-groups</span>
  <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google_Contacts</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Get groups</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">### Total amount of elements retrieved is</span>
  <span class="content">#[message.payload.size()]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Size</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;data-mapper:transform</span>
      <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">DataMapper</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element #[flowVars['counter']]  payload is</span>
      <span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Records</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/foreach&gt;</span>
    <span class="tag">&lt;set-payload</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Look for the messages logged by the Records Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

For each record a +For element ... + message was logged displaying its payload.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 8:</strong>  Look for the message of the Size Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Amount of elements retrieved equals number of records returned.</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can override the getTotalResults() method in the connector in case of service constraints.For this case, a value of ­1 is returns if size can&#8217;t be provided.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_auto_paging_dsql_interoperability">5.14. Auto-Paging DSQL Interoperability</h3>
<div class="paragraph">
<p>An example that uses the Salesforce/NetSuite connectors.</p>
</div>
<div class="sect3">
<h4 id="_datasense_query_language">5.14.1. DataSense Query Language</h4>

</div>
<div class="sect3">
<h4 id="_auto_paging_dsql_auto_paged_output_handling_datamapper">5.14.2. Auto-Paging - DSQL - Auto-Paged Output Handling - DataMapper</h4>
<div class="sect4">
<h5 id="_preconditions_31">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration Element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_23">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-25.png" alt="qa guidelines 25">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector select an operation whose return type is PagingDelegate&lt;SomeEntity&gt; and has one of its parameters annotated with @Query.</p>
</li>
<li>
<p>Select DataSense Query Language as Language.</p>
</li>
<li>
<p>Using Object Builder create a simple query involving a couple of fields, for example: SELECT AccountSource,BillingCity,BillingLon gitude,CreatedDate FROM Account.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata is fetched for the selected operation.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Click on the DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mule automatically prescribes the output of the operation as List&lt;SomeEntity&gt;. The type is in the connector code, for example: PagingDelegate&lt;Map&lt;String, Object&gt;&gt;
for an operation returns: PagingDelegate&lt;Map&lt;String, Object&gt;&gt;</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> In the Output Pane select:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type: Map&lt;k,v&gt;</p>
</li>
<li>
<p>Click User Defined</p>
</li>
<li>
<p>Click Generate default</p>
</li>
<li>
<p>Click Create mapping</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mapping involving only the fields been queried is created.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-26.png" alt="qa guidelines 26">
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_dsql_auto_paged_output_handling_foreach_combined_with_datamapper">5.14.3. Auto-Paging - DSQL - Auto-Paged Output Handling - Foreach Combined with DataMapper</h4>
<div class="sect4">
<h5 id="_preconditions_32">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_24">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong> place a DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-27.png" alt="qa guidelines 27">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector select an operation whose return type is
PagingDelegate&lt;SomeEntity&gt; and has one of its parameters annotated with @Query.</p>
</li>
<li>
<p>Select DataSense Query Language as Language.</p>
</li>
<li>
<p>Using Object Builder create a simple query involving a couple of fields, for example: SELECT AccountSource,BillingCity,BillingLon gitude,CreatedDate FROM Account</p>
</li>
<li>
<p>Click Save.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Metadata fetches for the selected operation.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Click the DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mule automatically prescribes the output of the operation as List&lt;SomeEntity&gt;. The type is in the connector code, for example: PagingDelegate&lt;Map&lt;String, Object&gt;&gt;
for an operation returns: PagingDelegate&lt;Map&lt;String, Object&gt;&gt;</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong> In the Output Pane select:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type: Map&lt;k,v&gt;</p>
</li>
<li>
<p>Click User Defined</p>
</li>
<li>
<p>Click Generate default</p>
</li>
<li>
<p>Click Create mapping</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mapping involving only the fields being queried is created.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-28.png" alt="qa guidelines 28">
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_dsql_pagination_is_applied">5.14.4. Auto-Paging - DSQL - Pagination is Applied</h4>
<div class="sect4">
<h5 id="_preconditions_33">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_25">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector place <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong> put a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong> place a DataMapper and then a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>After the <strong>For Each</strong>, place a <strong>Set Payload</strong> element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-29.png" alt="qa guidelines 29">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Open Query Builder and generate a simple query such as: SELECT. CreatedById,CreatedDate,Descripti on,OwnerId FROM Account LIMIT 3</p>
</li>
<li>
<p>Set a fetchSize value of 1 or lower than the amount of records being returned.</p>
</li>
<li>
<p>Click Save.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
￼
Metadata fetches for the selected operation.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set ### Total amount of elements retrieved is
#[message.payload.size()] as the
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 4:</strong> On the DataMapper element creating a mapping to a Default Map&lt;k,v&gt; object.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mapping creates.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong> Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow1</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">apforeach</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

 <span class="tag">&lt;sfdc:query</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">query</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dsql:SELECT</span>
      <span class="content">CreatedById,CreatedDate,Description,OwnerId</span>
      <span class="content">FROM Account LIMIT 3</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Query</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">fetchSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">### Total amount of</span>
      <span class="content">elements retrieved is</span>
      <span class="content">#[message.payload.size()]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Size</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;data-mapper:transform</span>
        <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">account_to_map</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Account</span>
        <span class="content">To Map</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

            <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element</span>
        <span class="content">#[flowVars['counter']]  payload is</span>
        <span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Records</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/foreach&gt;</span>

  <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Run the app and hit the flow endpoint.</p>
</li>
<li>
<p><strong>Step 8:</strong> Look for the messages logged by the Records Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
For each record a +For element ... + message was logged displaying its payload.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong>  Look for the message of the Size Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Amount of elements retrieved equals number of records returned.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_dsql_pagination_is_not_applied">5.14.5. Auto-Paging - DSQL - Pagination is Not Applied</h4>
<div class="sect4">
<h5 id="_preconditions_34">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_steps_26">Steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong>, place a <strong>For Each</strong> scope.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong>, place a DataMapper
and then a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>After the <strong>For Each</strong>, place a <strong>Set Payload</strong>
element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-30.png" alt="qa guidelines 30">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector, select an operation whose return type is
PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Open Query Builder and generate a simple
query such as: SELECT CreatedById,CreatedDate,Description, OwnerId FROM Account LIMIT 1</p>
</li>
<li>
<p>Set a fetchSize value higher than the amount of records being returned.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Metadata is fetched for the selected operation.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Set ### Total amount of elements retrieved is
#[message.payload.size()] as the
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong> On the DataMapper element create a mapping to a Default Map&lt;k,v&gt; object.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mapping creates.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong> Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow1</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">apforeach</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;sfdc:query</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">query</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dsql:SELECT</span>
      <span class="content">CreatedById,CreatedDate,Description,OwnerId</span>
      <span class="content">FROM Account LIMIT 3</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Query</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">fetchSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">### Total amount of</span>
      <span class="content">elements retrieved is</span>
      <span class="content">#[message.payload.size()]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Size</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

   <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
       <span class="tag">&lt;data-mapper:transform</span>
        <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">account_to_map</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Account To Map</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

       <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element</span>
        <span class="content">#[flowVars['counter']]  payload is</span>
        <span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Records</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/foreach&gt;</span>

  <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set</span>
  <span class="content">Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Run the app and hit the flow endpoint.</p>
</li>
<li>
<p><strong>Step 8:</strong> Look for the messages logged by the Records Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
For each record a +For element ... + message was logged displaying its payload.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong> Look for the message of the Size Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Amount of elements retrieved equals number of records returned.
Note: You can override the getTotalResults() method in the connector in case of service constraints.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_native_query_language">5.14.6. Native Query Language</h4>

</div>
<div class="sect3">
<h4 id="_auto_paging_nql_auto_paged_output_handling_datamapper">5.14.7. Auto-Paging - NQL - Auto-Paged Output Handling - DataMapper</h4>
<div class="sect4">
<h5 id="_preconditions_35">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-31.png" alt="qa guidelines 31">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector select an operation whose return type is PagingDelegate&lt;SomeEntity&gt; and has one of its parameters annotated with @Query.</p>
</li>
<li>
<p>Select Native Query Language as Language.</p>
</li>
<li>
<p>Enter a simple query as Query Text: SELECT
AccountSource,BillingCity,BillingLon
gitude,CreatedDate FROM Account</p>
</li>
<li>
<p>As Return type select the same Object as stated in the FROM field of the query.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Metadata is fetched for the selected operation.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Step 3:</strong>
Click the DataMapper element.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mule automatically prescribes the output of the operation as List&lt;SomeEntity&gt;. The type is in the connector code, for example: PagingDelegate&lt;Map&lt;String, Object&gt;&gt; for an operation returns: PagingDelegate&lt;Map&lt;String, Object&gt;&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Step 4:</strong> In the Output Pane select:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type: Map&lt;k,v&gt;</p>
</li>
<li>
<p>Click User Defined</p>
</li>
<li>
<p>Click Generate default</p>
</li>
<li>
<p>Click Create mapping</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mapping involving only the fields been queried is created.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-32.png" alt="qa guidelines 32">
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_nql_auto_paged_output_handling_foreach_combined_with_datamapper">5.14.8. Auto-Paging - NQL - Auto-Paged Output Handling - Foreach Combined with DataMapper</h4>
<div class="sect4">
<h5 id="_preconditions_36">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a <strong>For Each</strong> element.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong> place a DataMapper element.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong> On the connector select an operation whose return type is PagingDelegate&lt;SomeEntity&gt; and has one of its parameters annotated with @Query.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select Native Query Language as Language.</p>
</li>
<li>
<p>Enter a simple query as Query Text: SELECT
AccountSource,BillingCity,BillingLon
gitude,CreatedDate FROM Account</p>
</li>
<li>
<p>As Return type, select the same Object as stated in the FROM field of the query.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Metadata is fetched for the selected operation.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 3:</strong>  Click the DataMapper element.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mule automatically prescribes the output of the operation as List&lt;SomeEntity&gt;. The type is in the connector code, for example: +PagingDelegate&lt;Map&lt;String, Object&gt;&gt;+
for an operation returns: +PagingDelegate&lt;Map&lt;String, Object&gt;&gt;+</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 4:</strong>  In the Output Pane select:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Type: Map&lt;k,v&gt;</p>
</li>
<li>
<p>Click User Defined</p>
</li>
<li>
<p>Click Generate default</p>
</li>
<li>
<p>Click Create mapping</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Mapping involving only the fields been queried is created.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-33.png" alt="qa guidelines 33">
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_nql_pagination_is_applied">5.14.9. Auto-Paging - NQL - Pagination is Applied</h4>
<div class="sect4">
<h5 id="_preconditions_37">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
<li>
<p><strong>Step 1:</strong>  Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Drop the desired connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong>, place a <strong>For Each</strong> element.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong>, place a DataMapper and then a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>After the <strong>For Each</strong>, place a <strong>Set Payload</strong> element.
￼</p>
<div class="listingblock">
<div class="content">
<pre>Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-34.png" alt="qa guidelines 34">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the connector select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.</p>
</li>
<li>
<p>Select Native Query Language as Language.</p>
</li>
<li>
<p>Enter a simple query as Query Text: SELECT
AccountSource,BillingCity,BillingLon
gitude,CreatedDate FROM Account</p>
</li>
<li>
<p>As Return type select the same Object as stated in the FROM field of the query.</p>
</li>
<li>
<p>Set a fetchSize value of 1 or lower than the amount the amount of records been returned.</p>
</li>
<li>
<p>Click Save.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Metadata is fetched for the selected operation.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Set ### Total amount of elements retrieved is
#[message.payload.size()] as the
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong>  On the DataMapper element creating a mapping to a Default Map&lt;k,v&gt; object.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mapping is created.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong> Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 7:</strong> Run the app and hit the flow endpoint.</p>
</li>
<li>
<p><strong>Step 8:</strong>   Look for the messages logged by the Records Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
For each record a +For element ... + message was logged displaying its payload.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong> Look for the message of the Size Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Amount of elements retrieved equals number of records returned.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_paging_nql_pagination_is_not_applied">5.14.10. Auto-Paging - NQL - Pagination is Not Applied</h4>
<div class="sect4">
<h5 id="_preconditions_38">Preconditions</h5>
<div class="ulist">
<ul>
<li>
<p>Global Configuration element was already created with valid credentials to the service.</p>
</li>
<li>
<p><strong>Step 1:</strong> Arrange a flow as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In Studio, place an <strong>HTTP</strong> connector on the canvas.</p>
</li>
<li>
<p>Place a connector in the flow.</p>
</li>
<li>
<p>Next to the connector, place a <strong>Logger</strong> element.</p>
</li>
<li>
<p>Next to the <strong>Logger</strong>, place a <strong>For Each</strong> element.</p>
</li>
<li>
<p>Inside the <strong>For Each</strong>, place a <strong>DataMapper</strong> and then a <strong>Logger</strong> next to it.</p>
</li>
<li>
<p>After the <strong>For Each</strong>, place a <strong>Set Payload</strong> element.</p>
<div class="listingblock">
<div class="content">
<pre>Flow arrangement looks similar to this:</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-35.png" alt="qa guidelines 35">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 2:</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For your connector, select an operation whose return type is PagingDelegate&lt;SomeEntity&gt;.
Metadata fetches for the selected operation.</p>
</li>
<li>
<p>Open Query Builder and generate a simple query such as: SELECT CreatedById,CreatedDate,Description,OwnerId FROM Account LIMIT 1</p>
</li>
<li>
<p>Set a fetchSize value higher than the number of records that have been returned.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Step 3:</strong> Set ### Amount of elements retrieved is #[message.payload.size()] as the
<strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 4:</strong>  On the DataMapper element create a mapping to a Default Map&lt;k,v&gt; object.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
Mapping is created.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 5:</strong> Set For element #[flowVars['counter']] payload is #[message.payload] as the <strong>Logger</strong> message value. Click <strong>Save</strong>.</p>
</li>
<li>
<p><strong>Step 6:</strong> Set Done. as the <strong>Set Payload</strong> element Value. Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>Example of a complete flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;http:listener-config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">8081</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP Listener Configuration</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow3</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">features-autopaging-salesforceFlow3</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="tag">&lt;http:listener</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP_Listener_Configuration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;sfdc:query</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">query</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT</span>
  <span class="content">AccountSource,BillingCity,BillingLongitude,CratedDate</span>
  <span class="content">FROM Account</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

  <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">### Total amount of elements retrieved is</span>
  <span class="content">#[message.payload.size()]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Size</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;foreach</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For Each</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;data-mapper:transform</span>
    <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">account_to_map_1</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Account To Map</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

      <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">For element</span>
    <span class="content">#[flowVars['counter']]  payload is</span>
    <span class="content">#[message.payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Records</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/foreach&gt;</span>
  <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done.</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/flow&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p><strong>Step 7:</strong> Run the app and hit the flow endpoint.</p>
</li>
<li>
<p><strong>Step 8:</strong> Look for the messages logged by the Records Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:
For each record a +For element ... + message was logged displaying its payload.</pre>
</div>
</div>
</li>
<li>
<p><strong>Step 9:</strong> Look for the message of the Size Logger on the console.</p>
<div class="listingblock">
<div class="content">
<pre>Expected Result:

Amount of elements retrieved equals number of records returned.
Note: You can override the getTotalResults() method in the connector in case of service constraints.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cloudhub_interoperability">6. CloudHub Interoperability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These items apply exclusively for connectors supporting OAuth authentication.</p>
</div>
<div class="paragraph">
<p>CloudHub&#8217;s Object Store is stateless (behaves like a proxy). This behavior is different from an Object Store in a local Mule application. For this reason, a simple application using OAuth must be run on the CloudHub platform to verify its correct behavior.</p>
</div>
<div class="paragraph">
<p>First, check that the callback URL on the application redirects to the URL set on the config­ref.</p>
</div>
<div class="paragraph">
<p>Make sure the domain on the Deploy to CloudHub dialog matches the one set for the callback URL.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-37.png" alt="qa guidelines 37">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;facebook:config-with-oauth</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">consumerKey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">206589772847469</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">consumerSecret</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">14b75847e7c9cca4159b3314b39fcd43</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;facebook:oauth-callback-config</span> <span class="attribute-name">domain</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">facebookoauth.stg.cloudhub.io</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">localPort</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">callback</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/facebook:config-with-oauth&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Also make sure that the Mule version is the one under test.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Facebook Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;mule</span> <span class="attribute-name">xmlns:json</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/json</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:http</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/http</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:facebook</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/facebook</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/core</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:doc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/documentation</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:spring</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">EE-3.5.0</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span>
       <span class="content">http://www.springframework.org/schema/beans/spring-beans-current.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/facebook</span>
       <span class="content">http://www.mulesoft.org/schema/mule/facebook/current/mule-facebook.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="tag">&lt;facebook:config-with-oauth</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">consumerKey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${facebook.consumerKey}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">consumerSecret</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${facebook.consumerSecret}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;facebook:oauth-callback-config</span> <span class="attribute-name">domain</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">facebookoauth.stg.cloudhub.io</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">localPort</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">callback</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/facebook:config-with-oauth&gt;</span>

    <span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-facebook-oauthFlow1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-facebook-oauthFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;http:inbound-endpoint</span> <span class="attribute-name">exchange-pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">request-response</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">authFacebook</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;facebook:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;facebook:get-user</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">user</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hernan.wittemoller</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;json:object-to-json-transformer</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Object to JSON</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/flow&gt;</span>
<span class="tag">&lt;/mule&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: remotePort should not be part of the config, and that the ${http.port} placeholder is to be used for ports.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Salesforce Example</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate keystore.jks running this command: <strong>keytool -genkey -alias mule -keyalg RSA -keystore keystore.jks</strong></p>
</li>
<li>
<p>Place keystore.jks it in src/resources.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;mule</span> <span class="attribute-name">xmlns:https</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/https</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:http</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/http</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:sfdc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/sfdc</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/core</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:doc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/documentation</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:spring</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">EE-3.5.0</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/https</span>
<span class="content">http://www.mulesoft.org/schema/mule/https/current/mule-https.xsd</span>
<span class="content">http://www.springframework.org/schema/beans</span>
<span class="content">http://www.springframework.org/schema/beans/spring-beans-current.xsd</span>
<span class="content">http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd</span>
<span class="content">http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd</span>
<span class="content">http://www.mulesoft.org/schema/mule/sfdc http://www.mulesoft.org/schema/mule/sfdc/current/mule-sfdc.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
￼￼38
<span class="tag">&lt;sfdc:config-with-oauth</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">consumerKey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${salesforce.consumerKey}</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">consumerSecret</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${salesforce.consumerSecret}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce (OAuth)</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
        <span class="tag">&lt;sfdc:oauth-callback-config</span> <span class="attribute-name">domain</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforceoauth.qa2.cloudhub.io</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">localPort</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${https.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">oauthcallback</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">connector-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https_connector</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/sfdc:config-with-oauth&gt;</span>
    <span class="tag">&lt;https:connector</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https_connector</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">cookieSpec</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">netscape</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">validateConnections</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">sendBufferSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">receiveBufferSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">receiveBacklog</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">clientSoTimeout</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10000</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">serverSoTimeout</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10000</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">socketSoLinger</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP-HTTPS</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;https:tls-key-store</span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">keystore.jks</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">keyPassword</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">storePassword</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/https:connector&gt;</span>
    <span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-everest-oauth-salesforce-twoFlow1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-everest-oauth-salesforce-twoFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;http:inbound-endpoint</span> <span class="attribute-name">exchange-pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">request-response</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">oauth</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;sfdc:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">display</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">POPUP</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;sfdc:get-user-info</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Logger</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/flow&gt;</span>
<span class="tag">&lt;/mule&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation">7. Documentation &amp; Release Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Documentation is a vital part of the development stage. Your development team must strictly follow Mulesoft documentation standards described in this document.</p>
</div>
<div class="sect2">
<h3 id="_built_in_documentation">7.1. Built-in Documentation</h3>
<div class="paragraph">
<p>Part of the documentation must be packed within the connector source code. Create a <em>doc</em> folder in the root of the connector project in which the following documents reside.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User Guide</p>
</li>
<li>
<p>Release Notes</p>
</li>
<li>
<p>ReadMe</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In addition, create an extra folder named <em>images</em> inside the <em>doc</em> folder. This resource folder contains any resources (images, XMLs, etc.) used in the documentation.</p>
</div>
<div class="sect3">
<h4 id="_user_guide">7.1.1. User Guide</h4>
<div class="paragraph">
<p>The user guide needs to be fully descriptive and easy to read, including not only technical documentation but use cases and error solutions. Write the documentation using AsciiDoc syntax so that the resulting file is called user_manual.adoc. A template can be found <a href="files/user-manual.asc">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_release_notes">7.1.2. Release Notes</h4>
<div class="paragraph">
<p>Release notes need to be highly descriptive, including backward compatibility of the released connector with previous versions. A template can be found <a href="files/releaseNotesTemplate.asc">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_readme">7.1.3. ReadMe</h4>
<div class="paragraph">
<p>A README.adoc template can be found <a href="files/readme.asc">here</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connector_apidocs">7.2. Connector Apidocs</h3>
<div class="paragraph">
<p>Each public connector requires:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A description that provides a clear and a complete explanation of its purpose.</p>
</li>
<li>
<p>An XML sample that is up-to-date with the method signature and can be directly pasted into Anypoint™ Studio.</p>
</li>
<li>
<p>Attributes that affect methods behavior documented in detail.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For further information, refer to:</p>
</div>
<div class="paragraph">
<p><a href="http://mulesoft.github.io/salesforce-connector/6.2.1/mule/sfdc-config.html#convert-lead">Salesforce Connector: convert-lead Apidocs</a>.</p>
</div>
<div class="paragraph">
<p><a href="http://mulesoft.github.io/salesforce-connector/6.2.1/mule/sfdc-config.html#create">Salesforce Connector: create Apidocs</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendixes">8. Appendixes &amp; Templates</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_connector_project_directory_layout">8.1. Connector Project Directory Layout</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/project-directory-layout.html">Connector Project Directory Layout</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_common_public_attribution_license_version_1_0_cpal">8.2. Common Public Attribution License Version 1.0 (CPAL)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/CPAL.html">Common Public Attribution License Version 1.0 (CPAL)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_functional_tests_automation_howto">8.3. Functional Tests Automation: HowTo</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/debugging.html">Debugging</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_anypoint_studio_interoperability_testing_howto">8.4. Anypoint™ Studio Interoperability Testing: HowTo</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/usage-without-anypoint-studio.html">Usage without Anypoint™ Studio</a></p>
</li>
<li>
<p><a href="files/plugin-result-files.html">Plugin Result Files</a></p>
</li>
<li>
<p><a href="files/project-details.html">Project Details</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_anypoint_connectors_manual_test_suite_template">8.5. Anypoint™ Connectors Manual Test Suite Template</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/manual-interop-test-suite-template.xlsx">Manual Test Suite Template</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="certification-checklist">8.6. Certification Checklists</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/certification-checklist-connector-name-connector-version.xlsx">Connector Certification Checklist</a></p>
</li>
<li>
<p><a href="files/connector-name-connector-version-manual-interoperability-test-tuite-template.xlsx">Manual Interop Test Run Checklist</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-06-27 02:48:34 EDT
</div>
</div>
</body>
</html>